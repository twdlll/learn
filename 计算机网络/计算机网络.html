<!DOCTYPE html>
<!-- saved from url=(0016)http://localhost -->
<html>
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>计算机网络</title>
    <style>
        body{
            margin: 0;
        }
        #content-info{
            width: auto;
            margin: 0 auto;
            text-align: center;
        }
        #author-info{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        #title{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 10px;
            margin-bottom: 2px;
            font-size: 34px;
            color: #505050;
        }
        .text{
            white-space:nowrap;
            text-overflow: ellipsis;
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 2px;
            font-size: 20px;
            color: #8c8c8c;
        }
        #navBar{
            width: auto;
            height: auto;
            position: fixed;
            right:0;
            bottom: 0;
            background-color: #f0f3f4;
            overflow-y: auto;
            text-align: center;
        }
        #svg-container{
            width: 100%;
            overflow-x: scroll;
            min-width: 0px;
            margin: 0 10px;
        }
        #nav-thumbs{
            overflow-y: scroll;
            padding: 0 5px;
        }
        .nav-thumb{
            position: relative;
            margin: 10px auto;
        }
        .nav-thumb >p{
            text-align: center;
            font-size: 12px;
            margin: 4px 0 0 0;
        }
        .nav-thumb >div{
            position: relative;
            display: inline-block;
            border: 1px solid #c6cfd5;
        }
        .nav-thumb img{
            display: block;
        }
        #main-content{
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #d0cfd8;
            display: flex;
            height: auto;
            flex-flow: row wrap;
            text-align:center;
        }
        #svg-container >svg{
            display: block;
            margin:10px auto;
            margin-bottom: 0;
        }
        #copyright{
            bottom: 0;
            left: 50%;
            margin: 5px auto;
            font-size: 16px;
            color: #515151;
        }
        #copyright >a{
            text-decoration: none;
            color: #77C;
        }
        .number{
            position: absolute;
            top:0;
            left:0;
            border-top:22px solid #08a1ef;
            border-right: 22px solid transparent;
        }
        .pagenum{
            font-size: 12px;
            color: #fff;
            position: absolute;
            top: -23px;
            left: 2px;
        }
            #navBar::-webkit-scrollbar{
            width: 8px;
            background-color: #f5f5f5;
        }
            #navBar::-webkit-scrollbar-track{
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            border-radius: 8px;
            background-color: #fff;
        }
            #navBar::-webkit-scrollbar-thumb{
            border-radius: 8px;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            background-color: #6b6b70;
        }
        #navBar::-webkit-scrollbar-thumb:hover{
            background-color: #4a4a4f;
        }
</style>
  </head>
  <body>
    <div id="main-area">
      <div id="main-content">
        <div id="svg-container"><svg xmlns:xlink="http://www.w3.org/1999/xlink" height="1482" ed:name="Page-1" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/" ed:hSpacing="30" width="1583" ed:vSpacing="30" viewBox="0 0 1583 1482" id="page1" preserveAspectRadio="xMinYMin meet">
    <style type="text/css"><![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st31 {fill:#454545;font-family:Consolas;font-size:10pt}
.st30 {fill:#454545;font-family:Consolas;font-size:12pt}
.st29 {fill:#454545;font-family:Consolas;font-size:14pt}
]]></style>
    <defs>
        <linearGradient y2="100%" y1="0%" x1="0%" x2="0%" id="lg9">
            <stop offset="0" stop-color="#ffffff"/>
            <stop offset="0.25" stop-color="#f0f5f0"/>
            <stop offset="0.75" stop-color="#e1ebe1"/>
            <stop offset="1" stop-color="#c8d7c8"/>
        </linearGradient>
    </defs>
    <rect height="1482" y="0" x="0" width="1583" fill="#ffffff"/>
    <path stroke-linejoin="round" ed:type="summary" ed:idlist="327,329" stroke="#ff7575" ed:parentid="327,329" d="M0.1,0C6,0,5.9,3.2,5.9,3.2L5.9,22.3C5.9,22.3,6.9,25,12,25C6.9,25.1,5.9,27.7,5.9,27.7L5.9,46.8C5.9,46.8,5.8,50,0,50" transform="matrix(1,0,0,1,1281,924)" id="102" fill="none"/>
    <path stroke-linejoin="round" stroke="#6cc9e5" ed:parentid="236" d="M37.8,302.7C38.4,304.4,39.9,305.2,41.2,304.7C42.5,304.2,43.1,302.7,42.5,301C41.8,298.8,41,296.7,40.3,294.5C39.6,292.3,38.9,290.1,38.3,287.9C37.7,285.7,37.1,283.4,36.6,281.2C36.1,278.9,35.6,276.7,35.1,274.4C34.6,272.2,34.1,269.9,33.7,267.6C33.3,265.3,32.9,263,32.5,260.8C32.1,258.5,31.7,256.2,31.4,253.9C31,251.6,30.7,249.3,30.3,247C30,244.7,29.7,242.4,29.4,240.1C29.1,237.8,28.8,235.5,28.6,233.2C28.3,230.9,28,228.5,27.8,226.2C27.5,223.9,27.3,221.6,27.1,219.3C26.8,217,26.6,214.7,26.4,212.3C26.2,210,26,207.7,25.8,205.4C25.6,203.1,25.4,200.7,25.2,198.4C25,196.1,24.8,193.8,24.7,191.4C24.5,189.1,24.3,186.8,24.2,184.5C24,182.1,23.9,179.8,23.7,177.5C23.6,175.2,23.4,172.8,23.3,170.5C23.1,168.2,23,165.9,22.9,163.5C22.7,161.2,22.6,158.9,22.5,156.6C22.4,154.2,22.2,151.9,22.1,149.6C22,147.2,21.9,144.9,21.8,142.6C21.7,140.3,21.6,137.9,21.5,135.6C21.4,133.3,21.3,130.9,21.2,128.6C21.1,126.3,21,123.9,20.9,121.6C20.8,119.3,20.7,117,20.6,114.6C20.5,112.3,20.4,110,20.3,107.6C20.2,105.3,20.2,103,20.1,100.6C20,98.3,19.9,96,19.8,93.7C19.7,91.3,19.7,89,19.6,86.7C19.5,84.3,19.4,82,19.4,79.7C19.3,77.3,19.2,75,19.1,72.7C19,70.3,19,68,18.9,65.7C18.8,63.3,18.8,61,18.7,58.7C18.6,56.3,18.5,54,18.5,51.7C18.4,49.3,18.3,47,18.2,44.7C18.2,42.4,18.1,40,18,37.7C18,35.4,17.9,33,17.8,30.7C17.7,28.4,17.7,26,17.6,23.7C17.5,21.4,17.4,19,17.4,16.7C17.3,14.4,17.2,12,17.1,9.7C17.1,7.4,17,5,16.9,2.7C16.8,0.4,16.8,-2,16.7,-4.3C16.6,-6.6,16.5,-9,16.4,-11.3C16.3,-13.6,16.3,-16,16.2,-18.3C16.1,-20.6,16,-23,15.9,-25.3C15.8,-27.6,15.7,-30,15.6,-32.3C15.6,-34.6,15.5,-37,15.4,-39.3C15.3,-41.6,15.2,-43.9,15.1,-46.3C15,-48.6,14.9,-50.9,14.8,-53.3C14.7,-55.6,14.6,-57.9,14.5,-60.3C14.3,-62.6,14.2,-64.9,14.1,-67.3C14,-69.6,13.9,-71.9,13.8,-74.3C13.6,-76.6,13.5,-78.9,13.4,-81.3C13.3,-83.6,13.1,-85.9,13,-88.2C12.9,-90.6,12.7,-92.9,12.6,-95.2C12.5,-97.6,12.3,-99.9,12.2,-102.2C12,-104.6,11.9,-106.9,11.7,-109.2C11.6,-111.6,11.4,-113.9,11.2,-116.2C11.1,-118.5,10.9,-120.9,10.7,-123.2C10.6,-125.5,10.4,-127.9,10.2,-130.2C10,-132.5,9.8,-134.8,9.6,-137.2C9.4,-139.5,9.2,-141.8,9,-144.1C8.8,-146.5,8.6,-148.8,8.4,-151.1C8.2,-153.4,8,-155.8,7.7,-158.1C7.5,-160.4,7.3,-162.7,7,-165.1C6.8,-167.4,6.5,-169.7,6.3,-172C6,-174.4,5.7,-176.7,5.4,-179C5.2,-181.3,4.9,-183.6,4.6,-185.9C4.3,-188.3,4,-190.6,3.7,-192.9C3.4,-195.2,3,-197.5,2.7,-199.8C2.4,-202.1,2,-204.5,1.7,-206.8C1.3,-209.1,0.9,-211.4,0.6,-213.7C0.2,-216,-0.2,-218.3,-0.6,-220.6C-1,-222.9,-1.5,-225.2,-1.9,-227.5C-2.3,-229.8,-2.8,-232.1,-3.3,-234.4C-3.7,-236.7,-4.2,-238.9,-4.7,-241.2C-5.3,-243.5,-5.8,-245.8,-6.3,-248.1C-6.9,-250.3,-7.4,-252.6,-8,-254.9C-8.6,-257.1,-9.3,-259.4,-9.9,-261.6C-10.5,-263.9,-11.2,-266.1,-11.9,-268.4C-12.6,-270.6,-13.4,-272.8,-14.1,-275C-14.9,-277.2,-15.7,-279.4,-16.5,-281.6C-17.4,-283.8,-18.3,-286,-19.2,-288.1C-20.1,-290.3,-21.1,-292.4,-22.1,-294.5C-23.2,-296.6,-24.3,-298.7,-25.4,-300.7C-26.6,-302.8,-27.8,-304.8,-29.1,-306.8C-30.4,-308.7,-31.8,-310.6,-33.2,-312.5C-34.7,-314.3,-36.3,-316.1,-37.9,-317.7C-39.6,-319.4,-41.3,-321,-43.2,-322.4C-45.1,-323.9,-47.1,-325.2,-49.2,-326.3C-51.2,-327.4,-53.4,-328.3,-55.7,-329.1C-58,-329.8,-60.6,-330.3,-62.6,-330.6C-64.7,-330.8,-66.2,-330.9,-67.7,-330.9C-68.1,-330.9,-68.3,-330.6,-68.3,-330.4C-68.3,-330.1,-68.1,-329.9,-67.7,-329.9C-66.2,-329.9,-64.7,-329.8,-62.8,-329.6C-60.8,-329.3,-58.3,-328.8,-56,-328C-53.8,-327.3,-51.7,-326.4,-49.7,-325.3C-47.7,-324.2,-45.8,-322.9,-43.9,-321.5C-42.1,-320.1,-40.4,-318.5,-38.8,-316.9C-37.2,-315.3,-35.6,-313.5,-34.2,-311.7C-32.8,-309.9,-31.4,-308,-30.2,-306C-28.9,-304.1,-27.7,-302.1,-26.6,-300.1C-25.4,-298.1,-24.4,-296,-23.4,-293.9C-22.4,-291.8,-21.4,-289.7,-20.5,-287.6C-19.6,-285.4,-18.7,-283.3,-17.9,-281.1C-17.1,-278.9,-16.3,-276.7,-15.5,-274.5C-14.8,-272.3,-14.1,-270.1,-13.4,-267.9C-12.7,-265.7,-12,-263.4,-11.4,-261.2C-10.8,-259,-10.2,-256.7,-9.6,-254.5C-9,-252.2,-8.5,-249.9,-7.9,-247.7C-7.4,-245.4,-6.9,-243.1,-6.4,-240.9C-5.9,-238.6,-5.4,-236.3,-5,-234C-4.5,-231.7,-4.1,-229.5,-3.7,-227.2C-3.2,-224.9,-2.8,-222.6,-2.4,-220.3C-2,-218,-1.7,-215.7,-1.3,-213.4C-0.9,-211.1,-0.6,-208.8,-0.2,-206.5C0.1,-204.2,0.4,-201.9,0.8,-199.6C1.1,-197.3,1.4,-194.9,1.7,-192.6C2,-190.3,2.3,-188,2.6,-185.7C2.8,-183.4,3.1,-181.1,3.4,-178.8C3.6,-176.4,3.9,-174.1,4.1,-171.8C4.4,-169.5,4.6,-167.2,4.9,-164.8C5.1,-162.5,5.3,-160.2,5.5,-157.9C5.7,-155.6,5.9,-153.2,6.2,-150.9C6.4,-148.6,6.6,-146.3,6.7,-143.9C6.9,-141.6,7.1,-139.3,7.3,-137C7.5,-134.7,7.7,-132.3,7.8,-130C8,-127.7,8.2,-125.3,8.3,-123C8.5,-120.7,8.6,-118.4,8.8,-116C8.9,-113.7,9.1,-111.4,9.2,-109.1C9.4,-106.7,9.5,-104.4,9.6,-102.1C9.8,-99.8,9.9,-97.4,10,-95.1C10.1,-92.8,10.3,-90.4,10.4,-88.1C10.5,-85.8,10.6,-83.4,10.7,-81.1C10.8,-78.8,10.9,-76.5,11,-74.1C11.2,-71.8,11.3,-69.5,11.4,-67.1C11.5,-64.8,11.6,-62.5,11.6,-60.1C11.7,-57.8,11.8,-55.5,11.9,-53.2C12,-50.8,12.1,-48.5,12.2,-46.2C12.3,-43.8,12.4,-41.5,12.4,-39.2C12.5,-36.8,12.6,-34.5,12.7,-32.2C12.8,-29.8,12.8,-27.5,12.9,-25.2C13,-22.9,13,-20.5,13.1,-18.2C13.2,-15.9,13.3,-13.5,13.3,-11.2C13.4,-8.9,13.5,-6.5,13.5,-4.2C13.6,-1.9,13.7,0.5,13.7,2.8C13.8,5.1,13.9,7.5,13.9,9.8C14,12.1,14,14.5,14.1,16.8C14.2,19.1,14.2,21.5,14.3,23.8C14.3,26.1,14.4,28.5,14.5,30.8C14.5,33.1,14.6,35.4,14.6,37.8C14.7,40.1,14.7,42.4,14.8,44.8C14.9,47.1,14.9,49.4,15,51.8C15,54.1,15.1,56.4,15.2,58.8C15.2,61.1,15.3,63.4,15.3,65.8C15.4,68.1,15.5,70.4,15.5,72.8C15.6,75.1,15.6,77.4,15.7,79.8C15.8,82.1,15.8,84.4,15.9,86.8C16,89.1,16,91.4,16.1,93.8C16.2,96.1,16.2,98.4,16.3,100.8C16.4,103.1,16.4,105.4,16.5,107.8C16.6,110.1,16.7,112.4,16.7,114.8C16.8,117.1,16.9,119.4,17,121.8C17.1,124.1,17.1,126.4,17.2,128.8C17.3,131.1,17.4,133.4,17.5,135.8C17.6,138.1,17.7,140.4,17.8,142.8C17.9,145.1,18,147.4,18.1,149.8C18.2,152.1,18.3,154.4,18.4,156.8C18.5,159.1,18.6,161.4,18.7,163.8C18.8,166.1,19,168.4,19.1,170.8C19.2,173.1,19.3,175.4,19.5,177.8C19.6,180.1,19.8,182.4,19.9,184.8C20.1,187.1,20.2,189.4,20.4,191.7C20.5,194.1,20.7,196.4,20.9,198.7C21,201.1,21.2,203.4,21.4,205.7C21.6,208.1,21.8,210.4,22,212.7C22.2,215.1,22.4,217.4,22.6,219.7C22.8,222,23,224.4,23.3,226.7C23.5,229,23.8,231.4,24,233.7C24.3,236,24.5,238.3,24.8,240.7C25.1,243,25.4,245.3,25.7,247.6C26,250,26.4,252.3,26.7,254.6C27.1,256.9,27.4,259.2,27.8,261.5C28.2,263.9,28.6,266.2,29,268.5C29.4,270.8,29.9,273.1,30.4,275.4C30.8,277.7,31.3,280,31.9,282.3C32.4,284.6,33,286.9,33.6,289.2C34.2,291.5,34.8,293.7,35.6,296C36.3,298.3,37.1,300.5,37.8,302.7z" stroke-linecap="round" transform="matrix(1,0,0,1,728,411)" id="104" ed:tosuperid="237" fill="#6cc9e5"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="307" stroke-linecap="round" d="M-13.5,32.8C3.9,32.8,-10,-32.8,13.5,-32.8" transform="matrix(1,0,0,1,1028,725)" stroke-width="2" id="105" ed:tosuperid="238" fill="none"/>
    <path stroke-linejoin="round" stroke="#6cc9e5" ed:parentid="237" stroke-linecap="round" d="M13.5,17.5C-1.2,17.5,3.8,-17.5,-13.5,-17.5" transform="matrix(1,0,0,1,546,63)" stroke-width="2" id="106" ed:tosuperid="239" fill="none"/>
    <path stroke-linejoin="round" stroke="#6cc9e5" ed:parentid="237" stroke-linecap="round" d="M13.5,2.5C2.1,2.5,-4,-2.5,-13.5,-2.5" transform="matrix(1,0,0,1,546,78)" stroke-width="2" id="107" ed:tosuperid="240" fill="none"/>
    <path stroke-linejoin="round" stroke="#6cc9e5" ed:parentid="237" stroke-linecap="round" d="M13.5,-12.4C-0.2,-12.4,1.3,12.4,-13.5,12.4" transform="matrix(1,0,0,1,546,93)" stroke-width="2" id="108" ed:tosuperid="241" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="238" stroke-linecap="round" d="M-13.5,239.1C5.4,239.1,-13.5,-239.1,13.5,-239.1" transform="matrix(1,0,0,1,1102,453)" stroke-width="2" id="109" ed:tosuperid="242" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="238" stroke-linecap="round" d="M-13.5,194.7C5.4,194.7,-13.5,-194.7,13.5,-194.7" transform="matrix(1,0,0,1,1102,498)" stroke-width="2" id="110" ed:tosuperid="243" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="238" stroke-linecap="round" d="M-13.5,127.5C5.4,127.5,-13.5,-127.5,13.5,-127.5" transform="matrix(1,0,0,1,1102,565)" stroke-width="2" id="111" ed:tosuperid="244" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="243" stroke-linecap="round" d="M-13.5,29.4C3.4,29.4,-8.9,-29.4,13.5,-29.4" transform="matrix(1,0,0,1,1198,273)" stroke-width="2" id="116" ed:tosuperid="249" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="243" stroke-linecap="round" d="M-13.5,14.5C0.6,14.5,-2.4,-14.5,13.5,-14.5" transform="matrix(1,0,0,1,1198,288)" stroke-width="2" id="117" ed:tosuperid="250" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="243" stroke-linecap="round" d="M-13.5,-0.4C-2.7,-0.4,5.4,0.4,13.5,0.4" transform="matrix(1,0,0,1,1198,303)" stroke-width="2" id="118" ed:tosuperid="251" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="243" stroke-linecap="round" d="M-13.5,-15.3C0.8,-15.3,-2.7,15.3,13.5,15.3" transform="matrix(1,0,0,1,1198,318)" stroke-width="2" id="119" ed:tosuperid="252" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="243" stroke-linecap="round" d="M-13.5,-30.3C3.5,-30.3,-9.2,30.3,13.5,30.3" transform="matrix(1,0,0,1,1198,333)" stroke-width="2" id="120" ed:tosuperid="253" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="244" stroke-linecap="round" d="M-13.5,22C2.1,22,-5.9,-22,13.5,-22" transform="matrix(1,0,0,1,1198,415)" stroke-width="2" id="121" ed:tosuperid="254" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="244" stroke-linecap="round" d="M-13.5,7.1C-1,7.1,1.5,-7.1,13.5,-7.1" transform="matrix(1,0,0,1,1198,430)" stroke-width="2" id="122" ed:tosuperid="255" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="244" stroke-linecap="round" d="M-13.5,-7.9C-0.9,-7.9,1.1,7.9,13.5,7.9" transform="matrix(1,0,0,1,1198,445)" stroke-width="2" id="123" ed:tosuperid="256" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="244" stroke-linecap="round" d="M-13.5,-22.8C2.3,-22.8,-6.2,22.8,13.5,22.8" transform="matrix(1,0,0,1,1198,460)" stroke-width="2" id="124" ed:tosuperid="257" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="238" stroke-linecap="round" d="M-13.5,89.8C5.4,89.8,-13.5,-89.8,13.5,-89.8" transform="matrix(1,0,0,1,1102,602)" stroke-width="2" id="125" ed:tosuperid="258" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="238" stroke-linecap="round" d="M-13.5,2.7C-2.1,2.7,3.9,-2.7,13.5,-2.7" transform="matrix(1,0,0,1,1102,690)" stroke-width="2" id="127" ed:tosuperid="260" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="260" stroke-linecap="round" d="M-13.5,22.4C2.2,22.4,-6.1,-22.4,13.5,-22.4" transform="matrix(1,0,0,1,1238,665)" stroke-width="2" id="128" ed:tosuperid="261" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="260" stroke-linecap="round" d="M-13.5,-14.9C0.7,-14.9,-2.6,14.9,13.5,14.9" transform="matrix(1,0,0,1,1238,702)" stroke-width="2" id="129" ed:tosuperid="262" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="261" stroke-linecap="round" d="M-13.5,7.5C-1,7.5,1.3,-7.5,13.5,-7.5" transform="matrix(1,0,0,1,1374,635)" stroke-width="2" id="130" ed:tosuperid="263" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="261" stroke-linecap="round" d="M-13.5,-7.5C-1,-7.5,1.3,7.5,13.5,7.5" transform="matrix(1,0,0,1,1374,650)" stroke-width="2" id="131" ed:tosuperid="264" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="260" stroke-linecap="round" d="M-13.5,-29.9C3.5,-29.9,-9,29.9,13.5,29.9" transform="matrix(1,0,0,1,1238,717)" stroke-width="2" id="142" ed:tosuperid="275" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="238" stroke-linecap="round" d="M-13.5,-70C5.4,-70,-13.5,70,13.5,70" transform="matrix(1,0,0,1,1102,762)" stroke-width="2" id="147" ed:tosuperid="280" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="280" stroke-linecap="round" d="M-13.5,28.6C3.3,28.6,-8.6,-28.6,13.5,-28.6" transform="matrix(1,0,0,1,1217,804)" stroke-width="2" id="148" ed:tosuperid="281" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="280" stroke-linecap="round" d="M-13.5,14.5C0.6,14.5,-2.4,-14.5,13.5,-14.5" transform="matrix(1,0,0,1,1217,818)" stroke-width="2" id="149" ed:tosuperid="282" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="280" stroke-linecap="round" d="M-13.5,0.4C-2.7,0.4,5.4,-0.4,13.5,-0.4" transform="matrix(1,0,0,1,1217,832)" stroke-width="2" id="150" ed:tosuperid="283" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="280" stroke-linecap="round" d="M-13.5,-13.7C0.4,-13.7,-1.9,13.7,13.5,13.7" transform="matrix(1,0,0,1,1217,846)" stroke-width="2" id="151" ed:tosuperid="284" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="280" stroke-linecap="round" d="M-13.5,-27.9C3.2,-27.9,-8.3,27.9,13.5,27.9" transform="matrix(1,0,0,1,1217,860)" stroke-width="2" id="152" ed:tosuperid="285" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="238" stroke-linecap="round" d="M-13.5,-112.7C5.4,-112.7,-13.5,112.7,13.5,112.7" transform="matrix(1,0,0,1,1102,805)" stroke-width="2" id="153" ed:tosuperid="286" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="306" stroke-linecap="round" d="M13.5,225.2C-5.4,225.2,13.5,-225.2,-13.5,-225.2" transform="matrix(1,0,0,1,562,606)" stroke-width="2" id="154" ed:tosuperid="287" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="287" stroke-linecap="round" d="M13.5,7.5C1,7.5,-1.3,-7.5,-13.5,-7.5" transform="matrix(1,0,0,1,463,373)" stroke-width="2" id="155" ed:tosuperid="288" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="287" stroke-linecap="round" d="M13.5,-7.5C1,-7.5,-1.3,7.5,-13.5,7.5" transform="matrix(1,0,0,1,463,388)" stroke-width="2" id="156" ed:tosuperid="289" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="306" stroke-linecap="round" d="M13.5,3C2,3,-3.8,-3,-13.5,-3" transform="matrix(1,0,0,1,562,828)" stroke-width="2" id="157" ed:tosuperid="290" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="290" stroke-linecap="round" d="M13.5,185C-5.4,185,13.5,-185,-13.5,-185" transform="matrix(1,0,0,1,496,640)" stroke-width="2" id="158" ed:tosuperid="291" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="290" stroke-linecap="round" d="M13.5,125.7C-5.4,125.7,13.5,-125.7,-13.5,-125.7" transform="matrix(1,0,0,1,496,699)" stroke-width="2" id="159" ed:tosuperid="292" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="290" stroke-linecap="round" d="M13.5,81.3C-5.4,81.3,13.5,-81.3,-13.5,-81.3" transform="matrix(1,0,0,1,496,744)" stroke-width="2" id="160" ed:tosuperid="293" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="291" stroke-linecap="round" d="M13.5,14.9C-0.7,14.9,2.6,-14.9,-13.5,-14.9" transform="matrix(1,0,0,1,396,440)" stroke-width="2" id="166" ed:tosuperid="299" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="291" stroke-linecap="round" d="M13.5,0C2.7,0,-5.4,0,-13.5,0" transform="matrix(1,0,0,1,396,455)" stroke-width="2" id="167" ed:tosuperid="300" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="291" stroke-linecap="round" d="M13.5,-14.9C-0.7,-14.9,2.6,14.9,-13.5,14.9" transform="matrix(1,0,0,1,396,470)" stroke-width="2" id="168" ed:tosuperid="301" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="290" stroke-linecap="round" d="M13.5,-59.7C-5.4,-59.7,13.5,59.7,-13.5,59.7" transform="matrix(1,0,0,1,496,885)" stroke-width="2" id="169" ed:tosuperid="302" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,126.1C-5.4,126.1,13.5,-126.1,-13.5,-126.1" transform="matrix(1,0,0,1,396,818)" stroke-width="2" id="170" ed:tosuperid="303" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,111.1C-5.4,111.1,13.5,-111.1,-13.5,-111.1" transform="matrix(1,0,0,1,396,833)" stroke-width="2" id="171" ed:tosuperid="304" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,96.2C-5.4,96.2,13.5,-96.2,-13.5,-96.2" transform="matrix(1,0,0,1,396,848)" stroke-width="2" id="172" ed:tosuperid="305" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="236" d="M16.7,-16.1C17.9,-17.5,17.8,-19.1,16.8,-20C15.8,-21,14.1,-20.9,12.9,-19.5C11.4,-17.7,9.9,-15.9,8.4,-14C6.9,-12.2,5.5,-10.4,4,-8.5C2.6,-6.7,1.2,-4.8,-0.2,-2.9C-1.6,-1.1,-3,0.8,-4.5,2.6C-5.9,4.5,-7.3,6.3,-8.7,8.2C-10.2,10,-11.6,11.8,-13.1,13.6C-14.6,15.4,-16.1,17.1,-17.6,18.8C-19.2,20.5,-20.7,22.2,-22.4,23.8C-24,25.5,-25.7,27,-27.4,28.5C-29.2,30,-31,31.4,-32.9,32.8C-34.7,34.1,-36.7,35.4,-38.6,36.5C-40.6,37.6,-42.7,38.7,-44.8,39.6C-46.9,40.5,-49.1,41.3,-51.3,41.9C-53.4,42.6,-55.6,43.1,-58,43.5C-60.5,43.9,-63.2,44.1,-64.9,44.3C-66.6,44.4,-67.1,44.4,-67.7,44.4C-68.1,44.4,-68.3,44.6,-68.3,44.9C-68.3,45.1,-68.1,45.3,-67.7,45.4C-67.1,45.4,-66.6,45.4,-64.9,45.4C-63.2,45.3,-60.3,45.1,-57.8,44.8C-55.3,44.5,-53.1,44.1,-50.9,43.5C-48.6,42.9,-46.3,42.2,-44.1,41.3C-41.9,40.5,-39.7,39.5,-37.6,38.4C-35.5,37.3,-33.5,36.1,-31.5,34.8C-29.5,33.5,-27.6,32,-25.7,30.6C-23.9,29.1,-22.1,27.5,-20.4,25.9C-18.6,24.3,-16.9,22.7,-15.3,21C-13.6,19.3,-12,17.6,-10.5,15.8C-8.9,14.1,-7.4,12.3,-5.9,10.5C-4.3,8.7,-2.8,6.9,-1.4,5.1C0.1,3.3,1.6,1.5,3.1,-0.3C4.6,-2.1,6,-3.9,7.5,-5.7C9,-7.5,10.5,-9.3,12,-11C13.6,-12.7,15.1,-14.4,16.7,-16.1z" stroke-linecap="round" transform="matrix(1,0,0,1,728,786)" id="173" ed:tosuperid="306" fill="#ffcd55"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="236" d="M4,-2.6C2.2,-3,0.8,-2.1,0.5,-0.7C0.3,0.6,1.2,2,3,2.3C5.3,2.7,7.6,3.1,9.9,3.5C12.2,3.9,14.5,4.2,16.8,4.6C19.1,5,21.4,5.4,23.8,5.7C26.1,6.1,28.4,6.4,30.7,6.7C33.1,7,35.4,7.3,37.7,7.5C40,7.8,42.4,8,44.7,8.2C47.1,8.4,49.5,8.6,51.7,8.7C54,8.8,56.2,8.9,58.8,8.9C61.3,9,64.2,9,65.8,8.9C67.3,8.9,67.5,8.9,67.7,8.9C68.1,8.9,68.3,8.7,68.3,8.4C68.3,8.1,68.1,7.9,67.7,7.9C67.5,7.9,67.3,7.9,65.8,7.8C64.3,7.7,61.4,7.6,58.8,7.4C56.3,7.2,54.2,7,51.9,6.7C49.7,6.5,47.3,6.2,45,5.8C42.7,5.5,40.4,5.1,38.1,4.7C35.8,4.3,33.5,3.9,31.3,3.5C29,3,26.7,2.5,24.4,2.1C22.2,1.6,19.9,1.1,17.6,0.6C15.3,0,13.1,-0.5,10.8,-1C8.5,-1.5,6.2,-2,4,-2.6z" stroke-linecap="round" transform="matrix(1,0,0,1,863,749)" id="174" ed:tosuperid="307" fill="#ff7575"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,81.3C-5.4,81.3,13.5,-81.3,-13.5,-81.3" transform="matrix(1,0,0,1,396,863)" stroke-width="2" id="175" ed:tosuperid="308" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,66.4C-5.4,66.4,13.5,-66.4,-13.5,-66.4" transform="matrix(1,0,0,1,396,878)" stroke-width="2" id="176" ed:tosuperid="309" fill="none"/>
    <path stroke-linejoin="round" stroke="#f1a3dc" ed:parentid="236" d="M34.9,222.8C35.5,224.5,37,225.2,38.3,224.7C39.6,224.2,40.2,222.6,39.5,220.9C38.7,218.8,37.9,216.7,37.2,214.5C36.5,212.3,35.8,210.1,35.2,207.9C34.6,205.7,34,203.5,33.4,201.2C32.9,199,32.4,196.7,31.9,194.5C31.4,192.2,30.9,189.9,30.5,187.7C30.1,185.4,29.7,183.1,29.3,180.8C28.9,178.5,28.6,176.2,28.2,173.9C27.9,171.7,27.5,169.4,27.2,167.1C26.9,164.8,26.6,162.4,26.4,160.1C26.1,157.8,25.8,155.5,25.6,153.2C25.3,150.9,25.1,148.6,24.8,146.3C24.6,144,24.4,141.6,24.2,139.3C24,137,23.8,134.7,23.6,132.4C23.4,130,23.2,127.7,23,125.4C22.8,123.1,22.7,120.8,22.5,118.4C22.3,116.1,22.2,113.8,22,111.5C21.9,109.1,21.7,106.8,21.6,104.5C21.4,102.2,21.3,99.8,21.2,97.5C21,95.2,20.9,92.8,20.8,90.5C20.6,88.2,20.5,85.9,20.4,83.5C20.3,81.2,20.2,78.9,20.1,76.5C19.9,74.2,19.8,71.9,19.7,69.6C19.6,67.2,19.5,64.9,19.4,62.6C19.3,60.2,19.2,57.9,19.1,55.6C19,53.2,18.9,50.9,18.8,48.6C18.7,46.3,18.6,43.9,18.5,41.6C18.4,39.3,18.3,36.9,18.2,34.6C18.1,32.3,18,29.9,17.9,27.6C17.8,25.3,17.7,22.9,17.6,20.6C17.5,18.3,17.4,15.9,17.3,13.6C17.2,11.3,17.1,9,17,6.6C16.9,4.3,16.8,2,16.7,-0.4C16.6,-2.7,16.5,-5,16.4,-7.4C16.3,-9.7,16.1,-12,16,-14.4C15.9,-16.7,15.8,-19,15.7,-21.4C15.6,-23.7,15.4,-26,15.3,-28.4C15.2,-30.7,15.1,-33,14.9,-35.3C14.8,-37.7,14.6,-40,14.5,-42.3C14.4,-44.7,14.2,-47,14.1,-49.3C13.9,-51.7,13.8,-54,13.6,-56.3C13.4,-58.7,13.3,-61,13.1,-63.3C12.9,-65.6,12.8,-68,12.6,-70.3C12.4,-72.6,12.2,-75,12,-77.3C11.8,-79.6,11.6,-81.9,11.4,-84.3C11.2,-86.6,11,-88.9,10.8,-91.2C10.5,-93.6,10.3,-95.9,10.1,-98.2C9.8,-100.5,9.6,-102.9,9.3,-105.2C9.1,-107.5,8.8,-109.8,8.5,-112.2C8.2,-114.5,7.9,-116.8,7.6,-119.1C7.3,-121.4,7,-123.7,6.7,-126.1C6.4,-128.4,6,-130.7,5.7,-133C5.3,-135.3,4.9,-137.6,4.6,-139.9C4.2,-142.2,3.8,-144.5,3.4,-146.8C2.9,-149.1,2.5,-151.4,2.1,-153.7C1.6,-156,1.1,-158.3,0.6,-160.6C0.2,-162.9,-0.4,-165.2,-0.9,-167.4C-1.4,-169.7,-2,-172,-2.6,-174.3C-3.2,-176.5,-3.8,-178.8,-4.4,-181C-5.1,-183.3,-5.7,-185.5,-6.4,-187.8C-7.1,-190,-7.9,-192.2,-8.7,-194.4C-9.4,-196.6,-10.3,-198.8,-11.1,-201C-12,-203.2,-12.9,-205.4,-13.9,-207.5C-14.8,-209.6,-15.8,-211.8,-16.9,-213.9C-18,-215.9,-19.1,-218,-20.3,-220C-21.5,-222,-22.8,-224,-24.1,-226C-25.4,-227.9,-26.9,-229.8,-28.4,-231.6C-29.9,-233.4,-31.5,-235.1,-33.2,-236.7C-34.9,-238.4,-36.7,-239.9,-38.6,-241.3C-40.5,-242.7,-42.5,-244,-44.5,-245.2C-46.6,-246.3,-48.8,-247.3,-51,-248.1C-53.2,-248.9,-55.3,-249.5,-57.8,-250C-60.3,-250.4,-63.1,-250.7,-64.8,-250.8C-66.5,-250.9,-67.1,-250.9,-67.7,-250.9C-68.1,-250.8,-68.3,-250.6,-68.3,-250.4C-68.3,-250.1,-68.1,-249.8,-67.7,-249.9C-67.1,-249.9,-66.6,-249.9,-64.9,-249.8C-63.2,-249.6,-60.5,-249.4,-58,-248.9C-55.6,-248.4,-53.5,-247.8,-51.4,-247C-49.3,-246.2,-47.1,-245.2,-45.1,-244.1C-43.1,-243,-41.2,-241.7,-39.3,-240.3C-37.5,-238.9,-35.8,-237.4,-34.1,-235.8C-32.5,-234.2,-30.9,-232.5,-29.4,-230.7C-28,-228.9,-26.6,-227.1,-25.3,-225.2C-23.9,-223.2,-22.7,-221.3,-21.6,-219.3C-20.4,-217.3,-19.3,-215.2,-18.2,-213.2C-17.2,-211.1,-16.2,-209,-15.3,-206.9C-14.4,-204.7,-13.5,-202.6,-12.6,-200.4C-11.8,-198.3,-11,-196.1,-10.3,-193.9C-9.5,-191.7,-8.8,-189.5,-8.1,-187.2C-7.4,-185,-6.8,-182.8,-6.1,-180.6C-5.5,-178.3,-4.9,-176.1,-4.4,-173.8C-3.8,-171.5,-3.3,-169.3,-2.7,-167C-2.2,-164.7,-1.7,-162.5,-1.3,-160.2C-0.8,-157.9,-0.3,-155.6,0.1,-153.3C0.5,-151.1,0.9,-148.8,1.3,-146.5C1.7,-144.2,2.1,-141.9,2.5,-139.6C2.8,-137.3,3.2,-135,3.5,-132.7C3.8,-130.4,4.2,-128.1,4.5,-125.8C4.8,-123.4,5.1,-121.1,5.4,-118.8C5.6,-116.5,5.9,-114.2,6.2,-111.9C6.4,-109.6,6.7,-107.2,6.9,-104.9C7.2,-102.6,7.4,-100.3,7.6,-98C7.8,-95.7,8.1,-93.3,8.3,-91C8.5,-88.7,8.7,-86.4,8.9,-84C9,-81.7,9.2,-79.4,9.4,-77.1C9.6,-74.8,9.7,-72.4,9.9,-70.1C10.1,-67.8,10.2,-65.4,10.4,-63.1C10.5,-60.8,10.7,-58.5,10.8,-56.1C11,-53.8,11.1,-51.5,11.2,-49.2C11.4,-46.8,11.5,-44.5,11.6,-42.2C11.7,-39.8,11.9,-37.5,12,-35.2C12.1,-32.9,12.2,-30.5,12.3,-28.2C12.4,-25.9,12.5,-23.5,12.6,-21.2C12.7,-18.9,12.8,-16.6,12.9,-14.2C13,-11.9,13.1,-9.6,13.2,-7.2C13.3,-4.9,13.4,-2.6,13.5,-0.2C13.6,2.1,13.6,4.4,13.7,6.8C13.8,9.1,13.9,11.4,14,13.7C14.1,16.1,14.1,18.4,14.2,20.7C14.3,23.1,14.4,25.4,14.5,27.7C14.5,30.1,14.6,32.4,14.7,34.7C14.8,37.1,14.9,39.4,14.9,41.7C15,44.1,15.1,46.4,15.2,48.7C15.3,51.1,15.3,53.4,15.4,55.7C15.5,58.1,15.6,60.4,15.7,62.7C15.8,65.1,15.8,67.4,15.9,69.7C16,72.1,16.1,74.4,16.2,76.7C16.3,79,16.4,81.4,16.5,83.7C16.6,86,16.7,88.4,16.8,90.7C16.9,93,17,95.4,17.2,97.7C17.3,100,17.4,102.4,17.5,104.7C17.6,107,17.8,109.4,17.9,111.7C18,114,18.2,116.4,18.3,118.7C18.5,121,18.6,123.4,18.8,125.7C18.9,128,19.1,130.4,19.3,132.7C19.5,135,19.7,137.4,19.8,139.7C20,142,20.2,144.4,20.5,146.7C20.7,149,20.9,151.3,21.1,153.7C21.4,156,21.6,158.3,21.9,160.7C22.1,163,22.4,165.3,22.7,167.6C23,170,23.3,172.3,23.7,174.6C24,176.9,24.3,179.3,24.7,181.6C25.1,183.9,25.5,186.2,25.9,188.5C26.3,190.8,26.7,193.1,27.2,195.5C27.7,197.8,28.2,200.1,28.7,202.4C29.3,204.7,29.9,206.9,30.5,209.2C31.1,211.5,31.8,213.8,32.5,216C33.2,218.3,34.1,220.5,34.9,222.8z" stroke-linecap="round" transform="matrix(1,0,0,1,728,491)" id="180" ed:tosuperid="313" fill="#f1a3dc"/>
    <path stroke-linejoin="round" stroke="#f1a3dc" ed:parentid="313" stroke-linecap="round" d="M13.5,39.5C-4.7,39.5,11.8,-39.5,-13.5,-39.5" transform="matrix(1,0,0,1,513,201)" stroke-width="2" id="181" ed:tosuperid="314" fill="none"/>
    <path stroke-linejoin="round" stroke="#f1a3dc" ed:parentid="313" stroke-linecap="round" d="M13.5,24.5C-2.6,24.5,7,-24.5,-13.5,-24.5" transform="matrix(1,0,0,1,513,216)" stroke-width="2" id="182" ed:tosuperid="315" fill="none"/>
    <path stroke-linejoin="round" stroke="#f1a3dc" ed:parentid="313" stroke-linecap="round" d="M13.5,9.6C0.5,9.6,-0.2,-9.6,-13.5,-9.6" transform="matrix(1,0,0,1,513,231)" stroke-width="2" id="183" ed:tosuperid="316" fill="none"/>
    <path stroke-linejoin="round" stroke="#f1a3dc" ed:parentid="313" stroke-linecap="round" d="M13.5,-4.5C1.6,-4.5,-2.9,4.5,-13.5,4.5" transform="matrix(1,0,0,1,513,245)" stroke-width="2" id="186" ed:tosuperid="319" fill="none"/>
    <path stroke-linejoin="round" stroke="#f1a3dc" ed:parentid="313" stroke-linecap="round" d="M13.5,-19.4C-1.6,-19.4,4.7,19.4,-13.5,19.4" transform="matrix(1,0,0,1,513,260)" stroke-width="2" id="187" ed:tosuperid="320" fill="none"/>
    <path stroke-linejoin="round" stroke="#f1a3dc" ed:parentid="313" stroke-linecap="round" d="M13.5,-34.4C-4.1,-34.4,10.5,34.4,-13.5,34.4" transform="matrix(1,0,0,1,513,275)" stroke-width="2" id="188" ed:tosuperid="321" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="238" stroke-linecap="round" d="M-13.5,-183.8C5.4,-183.8,-13.5,183.8,13.5,183.8" transform="matrix(1,0,0,1,1102,876)" stroke-width="2" id="193" ed:tosuperid="326" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="326" stroke-linecap="round" d="M-13.5,56.9C5.4,56.9,-13.5,-56.9,13.5,-56.9" transform="matrix(1,0,0,1,1195,1003)" stroke-width="2" id="194" ed:tosuperid="327" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="326" stroke-linecap="round" d="M-13.5,28.6C3.3,28.6,-8.6,-28.6,13.5,-28.6" transform="matrix(1,0,0,1,1195,1031)" stroke-width="2" id="195" ed:tosuperid="328" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="326" stroke-linecap="round" d="M-13.5,42.8C5,42.8,-12.5,-42.8,13.5,-42.8" transform="matrix(1,0,0,1,1195,1017)" stroke-width="2" id="196" ed:tosuperid="329" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="326" stroke-linecap="round" d="M-13.5,14.5C0.6,14.5,-2.4,-14.5,13.5,-14.5" transform="matrix(1,0,0,1,1195,1045)" stroke-width="2" id="197" ed:tosuperid="330" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="326" stroke-linecap="round" d="M-13.5,0.4C-2.7,0.4,5.4,-0.4,13.5,-0.4" transform="matrix(1,0,0,1,1195,1059)" stroke-width="2" id="198" ed:tosuperid="331" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="326" stroke-linecap="round" d="M-13.5,-13.7C0.4,-13.7,-1.9,13.7,13.5,13.7" transform="matrix(1,0,0,1,1195,1073)" stroke-width="2" id="199" ed:tosuperid="332" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="326" stroke-linecap="round" d="M-13.5,-27.9C3.2,-27.9,-8.3,27.9,13.5,27.9" transform="matrix(1,0,0,1,1195,1088)" stroke-width="2" id="200" ed:tosuperid="333" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="326" stroke-linecap="round" d="M-13.5,-56.1C5.4,-56.1,-13.5,56.1,13.5,56.1" transform="matrix(1,0,0,1,1195,1116)" stroke-width="2" id="201" ed:tosuperid="334" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="326" stroke-linecap="round" d="M-13.5,-42C4.9,-42,-12.4,42,13.5,42" transform="matrix(1,0,0,1,1195,1102)" stroke-width="2" id="202" ed:tosuperid="335" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="412" stroke-linecap="round" d="M13.5,14.9C-0.7,14.9,2.6,-14.9,-13.5,-14.9" transform="matrix(1,0,0,1,311,914)" stroke-width="2" id="209" ed:tosuperid="342" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="307" stroke-linecap="round" d="M-13.5,-236.9C5.4,-236.9,-13.5,236.9,13.5,236.9" transform="matrix(1,0,0,1,1028,995)" stroke-width="2" id="210" ed:tosuperid="343" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="343" stroke-linecap="round" d="M-13.5,14.9C0.7,14.9,-2.6,-14.9,13.5,-14.9" transform="matrix(1,0,0,1,1122,1217)" stroke-width="2" id="211" ed:tosuperid="344" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="343" stroke-linecap="round" d="M-13.5,0C-2.7,0,5.4,0,13.5,0" transform="matrix(1,0,0,1,1122,1232)" stroke-width="2" id="212" ed:tosuperid="345" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="343" stroke-linecap="round" d="M-13.5,-14.9C0.7,-14.9,-2.6,14.9,13.5,14.9" transform="matrix(1,0,0,1,1122,1247)" stroke-width="2" id="213" ed:tosuperid="346" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="292" stroke-linecap="round" d="M13.5,-6.7C1.1,-6.7,-1.8,6.7,-13.5,6.7" transform="matrix(1,0,0,1,396,580)" stroke-width="2" id="214" ed:tosuperid="347" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="347" stroke-linecap="round" d="M13.5,22C-2.1,22,5.9,-22,-13.5,-22" transform="matrix(1,0,0,1,330,565)" stroke-width="2" id="215" ed:tosuperid="348" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="347" stroke-linecap="round" d="M13.5,7.1C1,7.1,-1.5,-7.1,-13.5,-7.1" transform="matrix(1,0,0,1,330,580)" stroke-width="2" id="216" ed:tosuperid="349" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="347" stroke-linecap="round" d="M13.5,-7.9C0.9,-7.9,-1.1,7.9,-13.5,7.9" transform="matrix(1,0,0,1,330,595)" stroke-width="2" id="218" ed:tosuperid="351" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="347" stroke-linecap="round" d="M13.5,-22.8C-2.3,-22.8,6.2,22.8,-13.5,22.8" transform="matrix(1,0,0,1,330,610)" stroke-width="2" id="233" ed:tosuperid="367" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,52.2C-5.4,52.2,13.5,-52.2,-13.5,-52.2" transform="matrix(1,0,0,1,396,892)" stroke-width="2" id="372" ed:tosuperid="371" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="290" stroke-linecap="round" d="M13.5,-200.7C-5.4,-200.7,13.5,200.7,-13.5,200.7" transform="matrix(1,0,0,1,496,1026)" stroke-width="2" id="374" ed:tosuperid="373" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="292" stroke-linecap="round" d="M13.5,30.3C-3.5,30.3,9.2,-30.3,-13.5,-30.3" transform="matrix(1,0,0,1,396,543)" stroke-width="2" id="376" ed:tosuperid="375" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="256" stroke-linecap="round" d="M-13.5,0C-2.7,0,5.4,0,13.5,0" transform="matrix(1,0,0,1,1340,453)" stroke-width="2" id="378" ed:tosuperid="377" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="306" stroke-linecap="round" d="M13.5,-212.3C-5.4,-212.3,13.5,212.3,-13.5,212.3" transform="matrix(1,0,0,1,562,1043)" stroke-width="2" id="380" ed:tosuperid="379" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="306" stroke-linecap="round" d="M13.5,-227.6C-5.4,-227.6,13.5,227.6,-13.5,227.6" transform="matrix(1,0,0,1,562,1058)" stroke-width="2" id="382" ed:tosuperid="381" fill="none"/>
    <path stroke-linejoin="round" stroke="#5fb7f1" ed:parentid="236" d="M42.6,-303.3C43.2,-304.9,42.6,-306.5,41.3,-306.9C40,-307.4,38.5,-306.7,37.9,-305C37.1,-302.8,36.3,-300.5,35.6,-298.2C34.9,-296,34.3,-293.7,33.7,-291.4C33.1,-289.1,32.5,-286.9,31.9,-284.6C31.4,-282.3,30.9,-280,30.4,-277.7C30,-275.4,29.5,-273,29.1,-270.7C28.7,-268.4,28.3,-266.1,27.9,-263.8C27.5,-261.5,27.1,-259.2,26.8,-256.8C26.4,-254.5,26.1,-252.2,25.8,-249.9C25.5,-247.6,25.2,-245.2,24.9,-242.9C24.6,-240.6,24.4,-238.3,24.1,-235.9C23.8,-233.6,23.6,-231.3,23.3,-229C23.1,-226.6,22.9,-224.3,22.7,-222C22.4,-219.6,22.2,-217.3,22,-215C21.8,-212.6,21.6,-210.3,21.5,-208C21.3,-205.7,21.1,-203.3,20.9,-201C20.7,-198.7,20.6,-196.3,20.4,-194C20.3,-191.7,20.1,-189.3,20,-187C19.8,-184.7,19.7,-182.3,19.5,-180C19.4,-177.7,19.3,-175.3,19.2,-173C19,-170.7,18.9,-168.3,18.8,-166C18.7,-163.7,18.6,-161.3,18.4,-159C18.3,-156.7,18.2,-154.3,18.1,-152C18,-149.7,17.9,-147.3,17.8,-145C17.7,-142.7,17.6,-140.3,17.5,-138C17.4,-135.7,17.4,-133.3,17.3,-131C17.2,-128.7,17.1,-126.3,17,-124C16.9,-121.7,16.9,-119.4,16.8,-117C16.7,-114.7,16.6,-112.4,16.6,-110C16.5,-107.7,16.4,-105.4,16.3,-103C16.3,-100.7,16.2,-98.4,16.1,-96C16.1,-93.7,16,-91.4,15.9,-89C15.9,-86.7,15.8,-84.4,15.8,-82C15.7,-79.7,15.6,-77.4,15.6,-75C15.5,-72.7,15.4,-70.4,15.4,-68C15.3,-65.7,15.3,-63.4,15.2,-61C15.1,-58.7,15.1,-56.4,15,-54C15,-51.7,14.9,-49.4,14.9,-47C14.8,-44.7,14.7,-42.4,14.7,-40C14.6,-37.7,14.6,-35.4,14.5,-33C14.4,-30.7,14.4,-28.4,14.3,-26C14.3,-23.7,14.2,-21.4,14.2,-19C14.1,-16.7,14,-14.4,14,-12C13.9,-9.7,13.8,-7.4,13.8,-5C13.7,-2.7,13.7,-0.4,13.6,2C13.5,4.3,13.5,6.6,13.4,8.9C13.3,11.3,13.3,13.6,13.2,15.9C13.1,18.3,13.1,20.6,13,22.9C12.9,25.3,12.8,27.6,12.8,29.9C12.7,32.3,12.6,34.6,12.5,36.9C12.4,39.3,12.4,41.6,12.3,43.9C12.2,46.2,12.1,48.6,12,50.9C11.9,53.2,11.8,55.6,11.8,57.9C11.7,60.2,11.6,62.6,11.5,64.9C11.4,67.2,11.3,69.6,11.2,71.9C11.1,74.2,11,76.5,10.9,78.9C10.7,81.2,10.6,83.5,10.5,85.9C10.4,88.2,10.3,90.5,10.2,92.8C10,95.2,9.9,97.5,9.8,99.8C9.7,102.2,9.5,104.5,9.4,106.8C9.3,109.1,9.1,111.5,9,113.8C8.8,116.1,8.7,118.5,8.5,120.8C8.4,123.1,8.2,125.4,8,127.8C7.9,130.1,7.7,132.4,7.5,134.7C7.4,137.1,7.2,139.4,7,141.7C6.8,144,6.6,146.4,6.4,148.7C6.2,151,6,153.3,5.8,155.7C5.6,158,5.4,160.3,5.2,162.6C5,164.9,4.7,167.3,4.5,169.6C4.3,171.9,4,174.2,3.8,176.5C3.5,178.8,3.2,181.2,3,183.5C2.7,185.8,2.4,188.1,2.1,190.4C1.8,192.7,1.6,195,1.2,197.4C0.9,199.7,0.6,202,0.3,204.3C-0,206.6,-0.4,208.9,-0.7,211.2C-1.1,213.5,-1.4,215.8,-1.8,218.1C-2.2,220.4,-2.6,222.7,-3,225C-3.4,227.3,-3.8,229.6,-4.3,231.9C-4.7,234.1,-5.1,236.4,-5.6,238.7C-6.1,241,-6.6,243.3,-7.1,245.5C-7.6,247.8,-8.1,250.1,-8.7,252.3C-9.2,254.6,-9.8,256.9,-10.4,259.1C-11,261.4,-11.6,263.6,-12.2,265.8C-12.9,268.1,-13.5,270.3,-14.3,272.5C-15,274.7,-15.7,276.9,-16.5,279.1C-17.2,281.3,-18.1,283.5,-18.9,285.7C-19.8,287.8,-20.7,290,-21.6,292.1C-22.5,294.2,-23.5,296.3,-24.6,298.4C-25.6,300.5,-26.7,302.5,-27.9,304.5C-29.1,306.5,-30.3,308.5,-31.7,310.4C-33,312.3,-34.4,314.1,-35.9,315.9C-37.4,317.6,-39,319.3,-40.6,320.9C-42.3,322.5,-44.1,323.9,-46,325.2C-47.9,326.5,-50,327.7,-52,328.7C-54,329.6,-56.1,330.4,-58.5,331C-60.9,331.5,-63.7,331.9,-65.3,332C-66.9,332.2,-67.3,332.2,-67.7,332.1C-68.1,332.1,-68.3,332.4,-68.3,332.6C-68.3,332.9,-68.1,333.1,-67.7,333.1C-67.3,333.2,-66.9,333.2,-65.2,333.1C-63.6,332.9,-60.7,332.6,-58.2,332C-55.7,331.4,-53.6,330.7,-51.5,329.7C-49.4,328.7,-47.3,327.5,-45.4,326.2C-43.4,324.8,-41.6,323.4,-39.8,321.8C-38.1,320.2,-36.5,318.5,-34.9,316.7C-33.4,314.9,-32,313,-30.6,311.1C-29.3,309.2,-28,307.2,-26.8,305.2C-25.6,303.2,-24.5,301.1,-23.4,299C-22.3,296.9,-21.3,294.8,-20.3,292.7C-19.4,290.5,-18.5,288.4,-17.6,286.2C-16.7,284,-15.9,281.8,-15.1,279.6C-14.3,277.4,-13.5,275.2,-12.8,273C-12.1,270.8,-11.4,268.5,-10.7,266.3C-10.1,264,-9.4,261.8,-8.8,259.5C-8.2,257.3,-7.6,255,-7.1,252.7C-6.5,250.5,-6,248.2,-5.4,245.9C-4.9,243.6,-4.4,241.4,-3.9,239.1C-3.4,236.8,-3,234.5,-2.5,232.2C-2.1,229.9,-1.6,227.6,-1.2,225.3C-0.8,223,-0.4,220.7,0,218.4C0.4,216.1,0.8,213.8,1.1,211.5C1.5,209.2,1.9,206.9,2.2,204.6C2.6,202.2,2.9,199.9,3.2,197.6C3.5,195.3,3.8,193,4.1,190.7C4.4,188.4,4.7,186,5,183.7C5.3,181.4,5.6,179.1,5.8,176.8C6.1,174.4,6.4,172.1,6.6,169.8C6.9,167.5,7.1,165.2,7.4,162.8C7.6,160.5,7.8,158.2,8,155.9C8.3,153.5,8.5,151.2,8.7,148.9C8.9,146.6,9.1,144.2,9.3,141.9C9.5,139.6,9.7,137.2,9.9,134.9C10.1,132.6,10.3,130.3,10.4,127.9C10.6,125.6,10.8,123.3,11,121C11.1,118.6,11.3,116.3,11.4,114C11.6,111.6,11.8,109.3,11.9,107C12.1,104.6,12.2,102.3,12.4,100C12.5,97.7,12.6,95.3,12.8,93C12.9,90.7,13,88.3,13.2,86C13.3,83.7,13.4,81.3,13.5,79C13.7,76.7,13.8,74.3,13.9,72C14,69.7,14.1,67.3,14.2,65C14.4,62.7,14.5,60.4,14.6,58C14.7,55.7,14.8,53.4,14.9,51C15,48.7,15.1,46.4,15.2,44C15.3,41.7,15.4,39.4,15.5,37C15.6,34.7,15.7,32.4,15.7,30C15.8,27.7,15.9,25.4,16,23C16.1,20.7,16.2,18.4,16.3,16C16.3,13.7,16.4,11.4,16.5,9C16.6,6.7,16.7,4.4,16.7,2C16.8,-0.3,16.9,-2.6,17,-4.9C17.1,-7.3,17.1,-9.6,17.2,-11.9C17.3,-14.3,17.4,-16.6,17.4,-18.9C17.5,-21.3,17.6,-23.6,17.7,-25.9C17.7,-28.3,17.8,-30.6,17.9,-32.9C17.9,-35.3,18,-37.6,18.1,-39.9C18.2,-42.3,18.2,-44.6,18.3,-46.9C18.4,-49.3,18.4,-51.6,18.5,-53.9C18.6,-56.3,18.7,-58.6,18.7,-60.9C18.8,-63.3,18.9,-65.6,19,-67.9C19,-70.3,19.1,-72.6,19.2,-74.9C19.3,-77.2,19.3,-79.6,19.4,-81.9C19.5,-84.2,19.6,-86.6,19.6,-88.9C19.7,-91.2,19.8,-93.6,19.9,-95.9C20,-98.2,20,-100.6,20.1,-102.9C20.2,-105.2,20.3,-107.6,20.4,-109.9C20.5,-112.2,20.6,-114.5,20.7,-116.9C20.7,-119.2,20.8,-121.5,20.9,-123.9C21,-126.2,21.1,-128.5,21.2,-130.9C21.3,-133.2,21.4,-135.5,21.5,-137.8C21.6,-140.2,21.7,-142.5,21.9,-144.8C22,-147.2,22.1,-149.5,22.2,-151.8C22.3,-154.2,22.4,-156.5,22.6,-158.8C22.7,-161.1,22.8,-163.5,22.9,-165.8C23.1,-168.1,23.2,-170.4,23.3,-172.8C23.5,-175.1,23.6,-177.4,23.8,-179.7C23.9,-182.1,24.1,-184.4,24.2,-186.7C24.4,-189,24.6,-191.4,24.7,-193.7C24.9,-196,25.1,-198.3,25.3,-200.7C25.5,-203,25.7,-205.3,25.9,-207.6C26.1,-209.9,26.3,-212.3,26.5,-214.6C26.7,-216.9,26.9,-219.2,27.1,-221.5C27.4,-223.8,27.6,-226.2,27.9,-228.5C28.1,-230.8,28.4,-233.1,28.6,-235.4C28.9,-237.7,29.2,-240,29.5,-242.3C29.8,-244.6,30.1,-246.9,30.4,-249.2C30.7,-251.5,31.1,-253.8,31.4,-256.1C31.8,-258.4,32.2,-260.7,32.6,-263C32.9,-265.3,33.4,-267.6,33.8,-269.9C34.2,-272.1,34.7,-274.4,35.2,-276.7C35.6,-278.9,36.1,-281.2,36.7,-283.4C37.2,-285.7,37.8,-287.9,38.4,-290.1C39,-292.4,39.7,-294.6,40.4,-296.8C41.1,-298.9,41.8,-301.1,42.6,-303.3z" stroke-linecap="round" transform="matrix(1,0,0,1,728,1074)" id="361" ed:tosuperid="360" fill="#5fb7f1"/>
    <path stroke-linejoin="round" stroke="#5fb7f1" ed:parentid="360" stroke-linecap="round" d="M13.5,32C-3.8,32,9.8,-32,-13.5,-32" transform="matrix(1,0,0,1,530,1374)" stroke-width="2" id="363" ed:tosuperid="362" fill="none"/>
    <path stroke-linejoin="round" stroke="#5fb7f1" ed:parentid="360" stroke-linecap="round" d="M13.5,17.9C-1.3,17.9,4,-17.9,-13.5,-17.9" transform="matrix(1,0,0,1,530,1388)" stroke-width="2" id="365" ed:tosuperid="364" fill="none"/>
    <path stroke-linejoin="round" stroke="#5fb7f1" ed:parentid="360" stroke-linecap="round" d="M13.5,-4.5C1.6,-4.5,-2.9,4.5,-13.5,4.5" transform="matrix(1,0,0,1,530,1411)" stroke-width="2" id="368" ed:tosuperid="366" fill="none"/>
    <path stroke-linejoin="round" stroke="#5fb7f1" ed:parentid="366" stroke-linecap="round" d="M13.5,7.5C1,7.5,-1.3,-7.5,-13.5,-7.5" transform="matrix(1,0,0,1,431,1408)" stroke-width="2" id="383" ed:tosuperid="369" fill="none"/>
    <path stroke-linejoin="round" stroke="#5fb7f1" ed:parentid="366" stroke-linecap="round" d="M13.5,-7.5C1,-7.5,-1.3,7.5,-13.5,7.5" transform="matrix(1,0,0,1,431,1423)" stroke-width="2" id="385" ed:tosuperid="384" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="307" stroke-linecap="round" d="M-13.5,-266.8C5.4,-266.8,-13.5,266.8,13.5,266.8" transform="matrix(1,0,0,1,1028,1025)" stroke-width="2" id="387" ed:tosuperid="386" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,37.3C-4.5,37.3,11.3,-37.3,-13.5,-37.3" transform="matrix(1,0,0,1,396,907)" stroke-width="2" id="389" ed:tosuperid="388" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,-51.8C-5.4,-51.8,13.5,51.8,-13.5,51.8" transform="matrix(1,0,0,1,396,996)" stroke-width="2" id="391" ed:tosuperid="390" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="390" stroke-linecap="round" d="M13.5,29.4C-3.4,29.4,8.9,-29.4,-13.5,-29.4" transform="matrix(1,0,0,1,276,1019)" stroke-width="2" id="393" ed:tosuperid="392" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="390" stroke-linecap="round" d="M13.5,14.5C-0.6,14.5,2.4,-14.5,-13.5,-14.5" transform="matrix(1,0,0,1,276,1033)" stroke-width="2" id="395" ed:tosuperid="394" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="390" stroke-linecap="round" d="M13.5,-0.4C2.7,-0.4,-5.4,0.4,-13.5,0.4" transform="matrix(1,0,0,1,276,1048)" stroke-width="2" id="397" ed:tosuperid="396" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,-111.1C-5.4,-111.1,13.5,111.1,-13.5,111.1" transform="matrix(1,0,0,1,396,1055)" stroke-width="2" id="403" ed:tosuperid="402" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="402" stroke-linecap="round" d="M13.5,7.5C1,7.5,-1.3,-7.5,-13.5,-7.5" transform="matrix(1,0,0,1,324,1159)" stroke-width="2" id="405" ed:tosuperid="404" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="402" stroke-linecap="round" d="M13.5,-14.9C-0.7,-14.9,2.6,14.9,-13.5,14.9" transform="matrix(1,0,0,1,324,1181)" stroke-width="2" id="407" ed:tosuperid="406" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="404" stroke-linecap="round" d="M13.5,7.5C1,7.5,-1.3,-7.5,-13.5,-7.5" transform="matrix(1,0,0,1,210,1144)" stroke-width="2" id="409" ed:tosuperid="408" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="404" stroke-linecap="round" d="M13.5,-7.5C1,-7.5,-1.3,7.5,-13.5,7.5" transform="matrix(1,0,0,1,210,1159)" stroke-width="2" id="411" ed:tosuperid="410" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="302" stroke-linecap="round" d="M13.5,7.5C1,7.5,-1.3,-7.5,-13.5,-7.5" transform="matrix(1,0,0,1,396,937)" stroke-width="2" id="413" ed:tosuperid="412" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="412" stroke-linecap="round" d="M13.5,0C2.7,0,-5.4,0,-13.5,0" transform="matrix(1,0,0,1,311,929)" stroke-width="2" id="415" ed:tosuperid="414" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="412" stroke-linecap="round" d="M13.5,-14.9C-0.7,-14.9,2.6,14.9,-13.5,14.9" transform="matrix(1,0,0,1,311,944)" stroke-width="2" id="417" ed:tosuperid="416" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="390" stroke-linecap="round" d="M13.5,-14.5C-0.6,-14.5,2.4,14.5,-13.5,14.5" transform="matrix(1,0,0,1,276,1062)" stroke-width="2" id="419" ed:tosuperid="418" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="390" stroke-linecap="round" d="M13.5,-29.4C-3.4,-29.4,8.9,29.4,-13.5,29.4" transform="matrix(1,0,0,1,276,1077)" stroke-width="2" id="421" ed:tosuperid="420" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="260" stroke-linecap="round" d="M-13.5,0C-2.7,0,5.4,0,13.5,0" transform="matrix(1,0,0,1,1238,687)" stroke-width="2" id="423" ed:tosuperid="422" fill="none"/>
    <path stroke-linejoin="round" stroke="#5fb7f1" ed:parentid="360" stroke-linecap="round" d="M13.5,-26.9C-3,-26.9,7.9,26.9,-13.5,26.9" transform="matrix(1,0,0,1,530,1433)" stroke-width="2" id="425" ed:tosuperid="424" fill="none"/>
    <path stroke-linejoin="round" stroke="#ffcd55" ed:parentid="379" stroke-linecap="round" d="M13.5,-0.4C2.7,-0.4,-5.4,0.4,-13.5,0.4" transform="matrix(1,0,0,1,496,1256)" stroke-width="2" id="427" ed:tosuperid="426" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="238" stroke-linecap="round" d="M-13.5,61.2C5.4,61.2,-13.5,-61.2,13.5,-61.2" transform="matrix(1,0,0,1,1102,631)" stroke-width="2" id="431" ed:tosuperid="430" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="430" stroke-linecap="round" d="M-13.5,14.5C0.6,14.5,-2.4,-14.5,13.5,-14.5" transform="matrix(1,0,0,1,1174,555)" stroke-width="2" id="433" ed:tosuperid="432" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="430" stroke-linecap="round" d="M-13.5,0.4C-2.7,0.4,5.4,-0.4,13.5,-0.4" transform="matrix(1,0,0,1,1174,570)" stroke-width="2" id="435" ed:tosuperid="434" fill="none"/>
    <path stroke-linejoin="round" stroke="#ff7575" ed:parentid="430" stroke-linecap="round" d="M-13.5,-13.7C0.4,-13.7,-1.9,13.7,13.5,13.7" transform="matrix(1,0,0,1,1174,584)" stroke-width="2" id="437" ed:tosuperid="436" fill="none"/>
    <g ed:topictype="mainidea" ed:layout="map" transform="matrix(1,0,0,1,723,713)" ed:width="144.8" ed:height="57" id="236">
        <path stroke-linejoin="round" stroke="#ffffff" d="M28.5,0L116.3,0C132,0,144.8,12.8,144.8,28.5C144.8,44.2,132,57,116.3,57L28.5,57C12.8,57,0,44.2,0,28.5C0,12.8,12.8,0,28.5,0z" stroke-width="4" fill="#ffffff"/>
        <text class="st29">
            <tspan y="35.1" x="25" style="white-space:pre">计算机网络</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="236" transform="matrix(1,0,0,1,560,47)" ed:width="100" ed:height="33.55" id="237">
        <path stroke-linejoin="round" stroke="#6cc9e5" d="M0,33.5L100,33.5" stroke-width="2" fill="none"/>
        <text class="st30">
            <tspan y="22.4" x="17" style="white-space:pre">体系结构</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="307" transform="matrix(1,0,0,1,1042,670)" ed:width="46.8" ed:height="21.75" id="238">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L46.8,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">HTTP</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="237" transform="matrix(1,0,0,1,466,22)" ed:width="66.8" ed:height="23.35" id="239">
        <path stroke-linejoin="round" stroke="#6cc9e5" d="M0,23.4L66.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">OSI七层</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="237" transform="matrix(1,0,0,1,445,52)" ed:width="88.40000000000001" ed:height="23.35" id="240">
        <path stroke-linejoin="round" stroke="#6cc9e5" d="M0,23.4L88.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">TCP/IP四层</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="237" transform="matrix(1,0,0,1,488,82)" ed:width="45.2" ed:height="23.35" id="241">
        <path stroke-linejoin="round" stroke="#6cc9e5" d="M0,23.4L45.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">五层</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="238" transform="matrix(1,0,0,1,1116,191)" ed:width="100.6" ed:height="23.35" id="242">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L100.6,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">请求/响应</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>主要包括四部分：行、头、空行和体。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(75,3)" xlink:href="#note"/>
        </g>
    </g>
    <symbol id="note">
        <image height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADtUlEQVRYCcVXS0gWURQ+d+Z/qJWPiEot0ohQc6GbHkSZFb0spHbRTmjVQlyEWuuokIiIVkVERLUrSMpa9A4fYFSLJIyyh1omqOXrH/+Z6Zzj3GGc/8HM309e+OfcOXPO+b577r3nv1dAkmaaZj5+Lkhi4uXTgBBi0Ish2yCoir8m/PXjL12NYlFM1U1EOBWWwSNz6sf2mTdnQf/ZCebUkNPEd19kLgV12QYIVjSCyFz+GAPswozoMpCbQBOCn55+sB/MyKi0SYsU4VzI2NtKJJqRwBkZ1E2gX2tvKIj23QO1oApC60+RA9tO3lojfTzJrMMf2Q4HBFrXSdAHnkGg6ACENp2nNVEogyiyg+nnBUdpp+YElzapSBoAxaJmxS6wsFhnE8A3Xu1yzuXI2QofShbx89bcthxLzXCuJ3tnOQkkjU6jcAeO50A2csRgaGAMdwOYBoSrrwEEsmJcAjGaBAolfytk1L5I8DWOOjoBkad1oP/qhsDKPRDafAHC267GGHrOQIxnMoUDnMyi39pAe1UP6pJK6ZUpO+knoI3A9MODPHJlQSGEt1wCEcq2SYDJJeAiLsSFRCK9BHDkk607wfj9CUFzILzjJqgrduP8X3eTqEDs2+klYKUdImMUF0xtDPSv97mvLC6fQ2Lm3TnS12AWStOTAcecU9pDlc0ghAIalvNoz2UmQTuCdgM3JTgrAQzPu0B6xEgXOKVdIAkRzgOts4lJGBP9oPfdBXNmHKthLQTL6ynMHayIH/6NQAJwiq4WH4IQykhHI0R7b5CKwUMbWwCE0oWvR0iX+hQkAafA1MSiIhBqmPtK9mqwwOm9AUc/RZ3UCHgAN4ZfcyEy9WlQqYjta8P/gg7CpBaZFakQMKN2heN9bs25DEjSBrfmPFx1hcEjz486zbjvOwPG4MvZIoM1Xy44Z1Q3uEw7g+v2wG0X/wRG37OzuqqGV7sdCTuJwNkmDjjp/RMY6eF4Sm4JS/lICi6N4kjf29CQBPLKZsPhPOtD7aC1H7f3uUx7HLwYlT8C0Ukwx79wEO1tC5hjvWCMf7eDUpHxA06OvgiYfz4D1m8G1PufsBSBDFBy1uIZshoC645RkWG914cvAgKBgiV1uHICoOSWgZJXisWm2Deok5yTwAB9oHM8nQvpNOs+FwL+iQQrTzj9PfUpFjWKbTXGor6dLyyNdH0aoEsENTpKS0dWpPiQx3Jyt2LPuaq57wXzfjGhu9t/vZrFJBZX+fxdTt1skAzfltx6n+9z5tzt+xdJwGKygJ8cdgAAAABJRU5ErkJggg==" width="16"/>
    </symbol>
    <g ed:layout="rightmap" ed:parentid="238" transform="matrix(1,0,0,1,1116,281)" ed:width="68.40000000000001" ed:height="21.75" id="243">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L68.4,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">HTTP1.1</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="238" transform="matrix(1,0,0,1,1116,415)" ed:width="68.40000000000001" ed:height="21.75" id="244">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L68.4,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">HTTP2.0</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="243" transform="matrix(1,0,0,1,1211,221)" ed:width="93.40000000000001" ed:height="23.35" id="249">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">缓存控制</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>http1.1引入了更多的缓存控制策略&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="243" transform="matrix(1,0,0,1,1211,250)" ed:width="120.6" ed:height="23.35" id="250">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L120.6,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">错误通知管理</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>增加了更多的错误响应码，如410表示服务器上某个资源被永久删除。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(95,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="243" transform="matrix(1,0,0,1,1211,280)" ed:width="93.40000000000001" ed:height="23.35" id="251">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">带宽优化</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>引入range头域，允许只请求资源的某个部分。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="243" transform="matrix(1,0,0,1,1211,310)" ed:width="108.6" ed:height="23.35" id="252">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L108.6,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">host头处理</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>http1.0中认为每台服务器绑定一个唯一的IP地址，但是随着虚拟主机的出现（一台物理服务器上可能存在多个虚拟主机，并且共享IP地址）。http1.1请求和响应都应支持host头域，且请求消息中没有host头域会报告错误。 &lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(83,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="243" transform="matrix(1,0,0,1,1211,340)" ed:width="58.8" ed:height="23.35" id="253">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L58.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">长连接</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="244" transform="matrix(1,0,0,1,1211,370)" ed:width="86" ed:height="23.35" id="254">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L86,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">二进制分帧</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="244" transform="matrix(1,0,0,1,1211,400)" ed:width="109.4" ed:height="23.35" id="255">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L109.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">header压缩</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>在客户端和服务端之间使用首部表来跟踪和存储之前发送的键值对。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>对于相同的数据，不再重新通过每次请求和响应发送，每个新的首部键值对要么追加到当前表的末尾，要么替换表中之前的值。首部表在HTTP2.0的链接存续期内始终存在，由服务端和客户端共同渐进的更新。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(84,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="244" transform="matrix(1,0,0,1,1211,430)" ed:width="115" ed:height="23.35" id="256">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L115,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">TCP多路复用</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>单个连接上同时进行多个业务单元数据的传输&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(89,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="244" transform="matrix(1,0,0,1,1211,459)" ed:width="88.40000000000001" ed:height="23.35" id="257">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L88.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">Server推送</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="238" transform="matrix(1,0,0,1,1116,489)" ed:width="93.40000000000001" ed:height="23.35" id="258">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">协议升级</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>使用Connection和Upgrade的组合。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>Connection：Upgrade&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>Upgrade：protocol-name[/protocol-version]&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="238" transform="matrix(1,0,0,1,1116,664)" ed:width="108.4" ed:height="23.35" id="260">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L108.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">HTTPS查询过程</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="260" transform="matrix(1,0,0,1,1251,619)" ed:width="109.4" ed:height="23.35" id="261">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L109.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">1. DNS解析</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>先查找本地缓存（浏览器缓存，操作系统缓存，hosts文件），如果未命中，则交给DNS服务器。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>响应时间= DNS域名解析时间 + TCP 连接建立时间 + HTTP交易时间，为了让响应时间尽量小，只能缩小DNS解析的时间，所以采用UDP去解析。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(84,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="260" transform="matrix(1,0,0,1,1251,693)" ed:width="138.2" ed:height="23.35" id="262">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L138.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">3. SSL/TLS握手</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;ol style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>C-&amp;gt;S: Client Hello（Random1，加密套件，SSL Version等）&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>S-&amp;gt;C: Server Hello（Random2，确定加密组件）&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>S-&amp;gt;C: 证书(服务器信息和使用CA私钥加密后的信息摘要）&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>S-&amp;gt;C: Server Hello Done通知Server Hello结束&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>C-&amp;gt;S: Certificate Verify验证证书合法性，生成Random3，非对称加密得到PreMaster Key&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>C-&amp;gt;S: Client Key Exchange把PreMaster Key传给服务器（至此，两端都有了三个随机数，然后通过相同的算法得到同样的密钥）&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>C-&amp;gt;S: Change Cipher Spec通知后续消息都会用密钥进行加密&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>C-&amp;gt;S: Client Finish将前面的握手信息生成摘要并加密&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>S-&amp;gt;C: 通知客户端后续消息使用协商的密钥加密&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Arial';&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>S-&amp;gt;C: Server Finish将握手信息生成摘要并加密，发送&lt;/span>&lt;/li>&lt;/ol>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>PreMaster的存在是由于SSL协议不信任每个主机都能产生完全随机的随机数，如果随机数不随机，那么pre master secret就有可能被猜出来，那么仅适用pre master secret作为密钥就不合适了，因此必须引入新的随机因素，那么客户端和服务器加上pre master secret三个随机数一同生成的密钥就不容易被猜出了，&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545; background-color:#ffff00;&quot;>一个伪随机可能完全不随机，可是是三个伪随机就十分接近随机了&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>，每增加一个自由度，随机性增加的可不是一。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(112,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="261" transform="matrix(1,0,0,1,1387,604)" ed:width="72.40000000000001" ed:height="23.35" id="263">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L72.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">递归查询</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="261" transform="matrix(1,0,0,1,1387,634)" ed:width="72.40000000000001" ed:height="23.35" id="264">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L72.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">迭代查询</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="260" transform="matrix(1,0,0,1,1251,723)" ed:width="210.2" ed:height="23.35" id="275">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L210.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">4. 得到资源，开始载入渲染</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>1. 发现css以及js文件，发起请求&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>2. 渲染，发现有图片就请求，但继续渲染&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>3. 发现script标签，执行&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>4. 图片下载完，重新渲染部分区域&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(184,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="238" transform="matrix(1,0,0,1,1116,809)" ed:width="87.59999999999999" ed:height="23.35" id="280">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L87.6,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">HTTP状态码</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="280" transform="matrix(1,0,0,1,1230,753)" ed:width="60.6" ed:height="21.75" id="281">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L60.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">1**</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>表示服务器收到信息，需要请求者继续操作&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>如100表示目前为止都正常。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(35,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="280" transform="matrix(1,0,0,1,1230,781)" ed:width="60.6" ed:height="21.75" id="282">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L60.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">2**</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>操作被成功接收并处理，如200成功响应。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(35,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="280" transform="matrix(1,0,0,1,1230,810)" ed:width="60.6" ed:height="21.75" id="283">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L60.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">3**</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>重定向&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>如301表示永久性重定向，302表示临时重定向。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(35,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="280" transform="matrix(1,0,0,1,1230,838)" ed:width="60.6" ed:height="21.75" id="284">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L60.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">4**</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>客户端错误&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>400表示错误请求，404表示请求的资源不存在。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(35,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="280" transform="matrix(1,0,0,1,1230,866)" ed:width="60.6" ed:height="21.75" id="285">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L60.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">5**</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>服务端错误，500表示服务器执行错误。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(35,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="238" transform="matrix(1,0,0,1,1116,894)" ed:width="146.2" ed:height="23.35" id="286">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L146.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">Session和Cookie</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>HTTP是无状态协议，但是有些请求需要状态，比如会话等。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>当用户登录后，会在服务端建立一个会话Session，用来标识这个特定的用户。第一次创建Session的时候，服务端会在HTTP协议中告诉客户端，需要在 Cookie 里面记录一个Session ID，以后每次请求把这个会话ID发送到服务器。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(120,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="306" transform="matrix(1,0,0,1,477,357)" ed:width="72.40000000000001" ed:height="23.35" id="287">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L72.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">适用场景</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="287" transform="matrix(1,0,0,1,233,342)" ed:width="216.4" ed:height="23.35" id="288">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L216.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">TCP：文件传输（准确性要求高）</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="287" transform="matrix(1,0,0,1,233,372)" ed:width="216.4" ed:height="23.35" id="289">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L216.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">UDP：即时通讯（准确性要求低）</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="306" transform="matrix(1,0,0,1,509,803)" ed:width="39.6" ed:height="21.75" id="290">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,21.8L39.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">TCP</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="290" transform="matrix(1,0,0,1,410,432)" ed:width="72.40000000000001" ed:height="23.35" id="291">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L72.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">差错控制</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="290" transform="matrix(1,0,0,1,410,550)" ed:width="72.40000000000001" ed:height="23.35" id="292">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L72.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">拥塞控制</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="290" transform="matrix(1,0,0,1,389,639)" ed:width="93.40000000000001" ed:height="23.35" id="293">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">流量控制</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>主要通过接收窗口控制。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="291" transform="matrix(1,0,0,1,303,402)" ed:width="79.8" ed:height="23.35" id="299">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L79.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">校验和</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>覆盖TCP首部和数据部分，比较弱。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(54,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="291" transform="matrix(1,0,0,1,338,432)" ed:width="45.2" ed:height="23.35" id="300">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L45.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">超时</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="291" transform="matrix(1,0,0,1,338,461)" ed:width="45.2" ed:height="23.35" id="301">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L45.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">确认</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="290" transform="matrix(1,0,0,1,410,921)" ed:width="72.40000000000001" ed:height="23.35" id="302">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L72.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">其他特性</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,214,669)" ed:width="169.4" ed:height="23.35" id="303">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L169.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">RTT计算：时间戳字段</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>可以使用时间戳字段更加精确地计算RTT。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>首先RTT的计算肯定要动态变化，基本公式如下：&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>RTTs = （1 -a）*旧RTTs +a * 新RTT&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;/body>">
            <use transform="translate(144,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,268,699)" ed:width="115" ed:height="23.35" id="304">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L115,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">RTO动态变化</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>1. 第一次测量时RTTd为RTT的一半，后续RTTd = （1- b）* 旧RTTd + b * | RTTs - 新RTT|&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>2. RTO = RTTs + 4 * RTTd&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(89,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,283,728)" ed:width="99.59999999999999" ed:height="23.35" id="305">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L99.6,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">接收窗口放缩</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="236" transform="matrix(1,0,0,1,576,797)" ed:width="84" ed:height="33.55" id="306">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,33.5L84,33.5" stroke-width="2" fill="none"/>
        <text class="st30">
            <tspan y="22.4" x="17" style="white-space:pre">传输层</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="236" transform="matrix(1,0,0,1,931,724)" ed:width="84" ed:height="33.55" id="307">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,33.5L84,33.5" stroke-width="2" fill="none"/>
        <text class="st30">
            <tspan y="22.4" x="17" style="white-space:pre">应用层</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,295,758)" ed:width="87.8" ed:height="23.35" id="308">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L87.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">MSS分片</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>MSS存在的意义主要是IP分片丢失的代价太高，需要重传整个IP包。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>通过MSS，能够将重传的代价变小。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(62,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,262,788)" ed:width="120.6" ed:height="23.35" id="309">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L120.6,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">发送报文时机</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>1. 缓冲区数据达到MSS&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>2. 由发送端的应用程序指明要马上发送，即TCP推送&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>3. 发送计时器达到期限&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(95,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="236" transform="matrix(1,0,0,1,526,207)" ed:width="133.6" ed:height="33.55" id="313">
        <path stroke-linejoin="round" stroke="#f1a3dc" d="M0,33.5L133.6,33.5" stroke-width="2" fill="none"/>
        <text class="st30">
            <tspan y="22.4" x="17" style="white-space:pre">网络层（IP）</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="313" transform="matrix(1,0,0,1,406,138)" ed:width="93.40000000000001" ed:height="23.35" id="314">
        <path stroke-linejoin="round" stroke="#f1a3dc" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">子网划分</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>主要有两种划分方式：&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>1. A、B、C类网。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>2. 根据前缀划分。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="313" transform="matrix(1,0,0,1,433,168)" ed:width="66.8" ed:height="23.35" id="315">
        <path stroke-linejoin="round" stroke="#f1a3dc" d="M0,23.4L66.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">基于ARP</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="313" transform="matrix(1,0,0,1,349,198)" ed:width="150.8" ed:height="23.35" id="316">
        <path stroke-linejoin="round" stroke="#f1a3dc" d="M0,23.4L150.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">支持协议有ICMP,IGMP</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="313" transform="matrix(1,0,0,1,460,228)" ed:width="39.6" ed:height="21.75" id="319">
        <path stroke-linejoin="round" stroke="#f1a3dc" d="M0,21.8L39.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">VPN</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="313" transform="matrix(1,0,0,1,433,256)" ed:width="66.8" ed:height="23.35" id="320">
        <path stroke-linejoin="round" stroke="#f1a3dc" d="M0,23.4L66.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">NAT映射</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="313" transform="matrix(1,0,0,1,317,286)" ed:width="182" ed:height="23.35" id="321">
        <path stroke-linejoin="round" stroke="#f1a3dc" d="M0,23.4L182,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">校验和仅覆盖IP首部（弱）</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="238" transform="matrix(1,0,0,1,1116,1036)" ed:width="66" ed:height="23.35" id="326">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L66,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">8种方法</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="326" transform="matrix(1,0,0,1,1209,924)" ed:width="60.6" ed:height="21.75" id="327">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L60.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">GET</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>获取资源，是幂等操作。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(35,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="326" transform="matrix(1,0,0,1,1209,981)" ed:width="67.8" ed:height="21.75" id="328">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L67.8,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">HEAD</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>同GET方法，都是向服务器发出指定资源请求，但是服务器在响应HEAD请求时不会回传资源的内容部分。这样就可以在不传输全部内容的情况下，获取&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>服务器的响应头&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>信息。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(42,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="326" transform="matrix(1,0,0,1,1209,952)" ed:width="67.8" ed:height="21.75" id="329">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L67.8,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">POST</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>会向请求资源提交数据，请求服务器进行处理，如表单数据提交、文件上传等。POST是非幂等方法，这个请求可能&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>会创建新的资源或修改现有资源&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(42,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="326" transform="matrix(1,0,0,1,1209,1009)" ed:width="60.6" ed:height="21.75" id="330">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L60.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">PUT</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>会向指定资源位置上传最新内容，通过该方法客户端可以将指定资源的最新数据发送给服务端以取代旧数据。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(35,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="326" transform="matrix(1,0,0,1,1209,1037)" ed:width="75" ed:height="21.75" id="331">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L75,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">PATCH</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>PATCH和PUT请求类似，但是有两点不同：&lt;/span>&lt;/p>&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>PATCH一般用于资源的&lt;span style=&quot; color:#ff0000;&quot;>部分更新&lt;/span>，而PUT一般用于资源的&lt;span style=&quot; color:#ff0000;&quot;>整体更新&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>当资源不存在时，PATCH会&lt;span style=&quot; color:#ff0000;&quot;>创建一个新的资源&lt;/span>，而PUT只会&lt;span style=&quot; color:#ff0000;&quot;>对存在的资源进行更新&lt;/span>。&lt;/li>&lt;/ul>&lt;/body>">
            <use transform="translate(49,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="326" transform="matrix(1,0,0,1,1209,1065)" ed:width="82.2" ed:height="21.75" id="332">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L82.2,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">DELETE</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>用于请求服务器删除所请求URI所标识的资源。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>这个方法也是幂等的，DELETE请求后指定资源会被删除。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(56,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="326" transform="matrix(1,0,0,1,1209,1094)" ed:width="89.40000000000001" ed:height="21.75" id="333">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L89.4,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">OPTIONS</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>OPTIONS请求与HEAD类似，一般也是用于客户端查看服务器的性能。 这个方法会请求服务器返回该资源所支持的所有HTTP请求方法，该方法会用'*'来代替资源名称，向服务器发送OPTIONS请求，可以测试服务器功能是否正常。JavaScript的XMLHttpRequest对象进行CORS跨域资源共享时，就是使用OPTIONS方法发送嗅探请求，以判断是否有对指定资源的访问权限&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(64,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="326" transform="matrix(1,0,0,1,1209,1150)" ed:width="75" ed:height="21.75" id="334">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L75,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">TRACE</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>TRACE请求服务器回显其收到的请求信息，该方法主要用于HTTP请求的测试或诊断。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(49,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="326" transform="matrix(1,0,0,1,1209,1122)" ed:width="89.40000000000001" ed:height="21.75" id="335">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L89.4,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">CONNECT</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>CONNECT方法是HTTP/1.1协议预留的，能够将连接改为管道方式的代理服务器。通常用于SSL加密服务器的链接与非加密的HTTP代理服务器的通信。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(64,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="412" transform="matrix(1,0,0,1,209,876)" ed:width="87.8" ed:height="23.35" id="342">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L87.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">RST报文</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>触发时机：&lt;/span>&lt;/p>&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>connect一个不存在的端口，服务器端会回复一个RST，客户端收到后，会显示Connection refused&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>向一个已经崩溃的对端发送数据，会受到对端发来的RST&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>close(sockfd)时，直接丢弃缓冲区中未读取的数据，并给对方发送RST。&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>A重启，收到B的保活探针，A发RST，通知B。 &lt;/li>&lt;/ul>&lt;/body>">
            <use transform="translate(62,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="307" transform="matrix(1,0,0,1,1042,1208)" ed:width="66.8" ed:height="23.35" id="343">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L66.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">DNS劫持</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="343" transform="matrix(1,0,0,1,1136,1178)" ed:width="94" ed:height="23.35" id="344">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L94,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">本机DNS劫持</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="343" transform="matrix(1,0,0,1,1136,1208)" ed:width="94" ed:height="23.35" id="345">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L94,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">路由DNS劫持</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="343" transform="matrix(1,0,0,1,1136,1238)" ed:width="150" ed:height="23.35" id="346">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L150,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">攻击DNS服务器：DDoS</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="292" transform="matrix(1,0,0,1,343,565)" ed:width="39.6" ed:height="21.75" id="347">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,21.8L39.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">BBR</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="347" transform="matrix(1,0,0,1,209,520)" ed:width="107" ed:height="23.35" id="348">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L107,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">最优工作点</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>1. 当网络中数据包不多，没有填满链路带宽时，随着网络中数据包增加，有效带宽不断上升，往返时延不发生变化。当数据包刚好填满管道，此时达到&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545; background-color:#ffff00;&quot;>最优工作点&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>，带宽时延积BDP=bestBw * rtt。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>2. 继续增加网络中的数据包，超出BDP，此时部分数据包需要排队，rtt增加。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>3. 继续增加数据包，缓冲区被填满，从而造成丢包。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(81,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="347" transform="matrix(1,0,0,1,223,549)" ed:width="93.40000000000001" ed:height="23.35" id="349">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">基本思想</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>不考虑丢包，估计最优工作点。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>交替测量带宽和延迟，用一段时间内的带宽极大值和延迟极小值作为估计值。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="347" transform="matrix(1,0,0,1,223,579)" ed:width="93.40000000000001" ed:height="23.35" id="351">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">具体过程</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>1. &lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000;&quot;>启动&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>：当连接建立时，指数增加发送速率，经过3次有效带宽不增长，开始进入下一阶段。延迟最小值就是初始估计值，带宽最大值则时启动结束的估计值。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>2. &lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000;&quot;>排空&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>：指数降低发送速率，延迟慢慢降低，当延迟不再降低时，结束。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>3. &lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000;&quot;>带宽探测&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>：会以至少8个往返时延为周期&lt;/span>&lt;/p>&lt;ol style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1; -qt-list-number-prefix: '('; -qt-list-number-suffix: ')';&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>在第1个往返时间，BBR尝试以估计带宽的5/4发送，如果有效带宽增加了，那么继续增加。&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>在下一个往返时间里，需要排空，会以3/4的速率发送，如果延迟有下降，就把3/4带宽作为新的估计带宽。&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>剩下6个往返时间，BBR使用估计的带宽发包。&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>如果带宽探测阶段连续10秒估计延时都没有发现更小的，那么就进入延迟探测，在200ms内发送4个包，以这段时间测得的最小延迟作为新的延迟估计。&lt;/li>&lt;/ol>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>(1)和(2)体现的思想是：&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545; background-color:#ffff00;&quot;>激进加，保守减&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>4. &lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000;&quot;>延迟探测&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>：如果带宽探测阶段连续10秒估计延时都没有发现更小的，那么就进入延迟探测，在200ms内发送4个包，以这段时间测得的最小延迟作为新的延迟估计。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="347" transform="matrix(1,0,0,1,250,609)" ed:width="66.2" ed:height="23.35" id="367">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L66.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">问题</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>对带宽不敏感，竞争不过CUBIC。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot;>如果网络上同时存在BBR和CUBIC，那么永远也排空不了链路缓冲区。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(40,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="102" transform="matrix(1,0,0,1,1302,935)" ed:width="54.232" ed:height="27.6" id="370">
        <path stroke-linejoin="round" stroke="#ff7575" d="M13.8,0L40.4,0C48.1,0,54.2,6.2,54.2,13.8C54.2,21.4,48.1,27.6,40.4,27.6L13.8,27.6C6.2,27.6,0,21.4,0,13.8C0,6.2,6.2,0,13.8,0z" fill="#ffffff"/>
        <text class="st31">
            <tspan y="18.8" x="12" style="white-space:pre">区别</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,279,818)" ed:width="103.8" ed:height="21.75" id="371">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,21.8L103.8,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">TIME_WAIT</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>保证全双工的TCP连接&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>正常终止&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>保证网络中迷失的数据包正常过期。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(78,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="290" transform="matrix(1,0,0,1,344,1203)" ed:width="138.2" ed:height="23.35" id="373">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L138.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">ubuntu TCP调优</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>/proc/sys/net目录下的所有文件都对应着各自的TCP参数。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>有几个重要的参数&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>：&lt;/span>&lt;/p>&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>tcp_keepalive_time：7200（即2个小时）&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>tcp_tw_reuse：0（即不允许将&lt;span style=&quot; color:#ff0000;&quot;>TIME_WAIT&lt;/span>状态的socket用于新的tcp连接）&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>tcp_fin_timeout：60（对于本端断开的socket连接，TCP保持在&lt;span style=&quot; color:#ff0000;&quot;>FIN_WAIT2&lt;/span>状态的时间)&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>tcp_timeout_close_wait：60（对于被动断开，维持在ClOSE_WAIT的时间）&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>tcp_timeout_time_wait：120（对于主动断开的socket连接，维持在&lt;span style=&quot; color:#ff0000;&quot;>TIME_WAIT&lt;/span>状态的时间）&lt;/li>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>关于重传&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>：&lt;/span>&lt;/p>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>tcp_syn_retries：负责建立连接时候的重传，默认为6.&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>tcp_retries1：当重传超时后，将更新路由缓存，默认3.&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>tcp_retries2：当重传超时后，会关闭TCP流，默认15.&lt;/li>&lt;/ul>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>注意：&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>各个参数的值并不是重传次数，而是根据rto_base（初始RTO，为200ms）和参数值，计算得到timeout，超过这个timeout，则就认为超过了阈值&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。另外，&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000; background-color:#ffff00;&quot;>关于重传时间具体增加细节为，前9次呈2次方增加，后面保持在120s&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>总的来说，在Linux3.10中，如果tcp_retres2设置为15。总重传超时周期应该在如下范围内[924.6s, 1044.6s)&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>可通过vim /etc/sysctl.conf更改参数。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(112,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="292" transform="matrix(1,0,0,1,308,491)" ed:width="75" ed:height="21.75" id="375">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,21.8L75,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">CUBIC</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>经典的TCP拥塞控制算法，分为下列四部分：&lt;/span>&lt;/p>&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; color:#454545;&quot;>慢开始：2倍增加&lt;/span>&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>拥塞控制：线性增加&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>快重传：3个连续ACK&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt; color:#454545;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>快恢复：门限减半，窗口设置为门限。&lt;/li>&lt;/ul>&lt;/body>">
            <use transform="translate(49,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="256" transform="matrix(1,0,0,1,1353,430)" ed:width="208.4" ed:height="23.35" id="377">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L208.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">然而丢包会导致严重的堵塞问题</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="306" transform="matrix(1,0,0,1,509,1234)" ed:width="39.6" ed:height="21.75" id="379">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,21.8L39.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">UDP</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="306" transform="matrix(1,0,0,1,418,1263)" ed:width="131" ed:height="23.35" id="381">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L131,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">QUIC(基于UDP)</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>QUIC的主要机制：&lt;/span>&lt;/p>&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>自定义连接机制：QUIC使用一个64位的随机数作为ID来标识。&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>自定义重传机制：通过递增的序列号加上stream offset来解决。&lt;/li>&lt;/ul>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>通过使用QUIC，可以解决HTTP2.0的多路复用问题。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(105,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="236" transform="matrix(1,0,0,1,544,1373)" ed:width="116" ed:height="33.55" id="360">
        <path stroke-linejoin="round" stroke="#5fb7f1" d="M0,33.5L116,33.5" stroke-width="2" fill="none"/>
        <text class="st30">
            <tspan y="22.4" x="17" style="white-space:pre">奇怪的问题</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="360" transform="matrix(1,0,0,1,280,1319)" ed:width="237.4" ed:height="23.35" id="362">
        <path stroke-linejoin="round" stroke="#5fb7f1" d="M0,23.4L237.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">局域网中出现相同mac地址的主机</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>前提条件：A(192.168.30.1), B(192.168.30.2), C(192.168.30.3)&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>A和B的mac地址相同&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>1. A和B之间不能互相访问。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>2. C在访问A或B的时候，会产生大量随机性障碍&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>3. A或B访问C的时候都不受影响。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>4. A或B都可以通过路由器上互联网（有点怀疑是NAT）。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>5. A和B都跟C ping，C也可以ping通A和B。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>其实路由器的本质是记录请求的主机的端口，在收到Web服务器响应的时候根据这个记录发送到指定的主机。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>由于TCP重传的机制，所以还是能传输的。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(212,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="360" transform="matrix(1,0,0,1,456,1349)" ed:width="60.6" ed:height="21.75" id="364">
        <path stroke-linejoin="round" stroke="#5fb7f1" d="M0,21.8L60.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">NAT</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>NAT实现方式有三种：&lt;/span>&lt;/p>&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>静态转换：&lt;span style=&quot; background-color:#ffff00;&quot;>将内部网络的私有IP地址转换为公有IP地址（一对一映射）&lt;/span>。某个私有IP地址只能转换为某个公有IP，类似于负载均衡器。&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>动态转换：将内部网络的私有IP地址转化为公有IP地址，但是转化到什么公有IP是随机的。只要指定哪些内部地址可以进行转换，以及哪些合法地址可以作为外部地址时，就可以进行动态转换（也就是可以使用多个合法外部地址集）&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>端口多路复用：改变外出数据包的源端口并进行端口转换，即端口映射。内部网络所有主机均可共享一个外部IP地址实现对Internet的访问。&lt;/li>&lt;/ul>&lt;/body>">
            <use transform="translate(35,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="360" transform="matrix(1,0,0,1,445,1392)" ed:width="72.40000000000001" ed:height="23.35" id="366">
        <path stroke-linejoin="round" stroke="#5fb7f1" d="M0,23.4L72.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">路由算法</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="366" transform="matrix(1,0,0,1,324,1377)" ed:width="93.40000000000001" ed:height="23.35" id="369">
        <path stroke-linejoin="round" stroke="#5fb7f1" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">静态路由</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000;&quot;>1. 洪泛&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>节点收到一个报文分组后，向所有可能的方向复制转发。&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>保证了只要有一条信道能走通，那么就报文就可以到达。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000;&quot;>2. 随机走动法&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>节点收到分组后，向所有与之相邻的节点中为分组随机选择一个节点转发出去。&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>虽然简单，但不是最佳路由，效率低下。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>3. 最短路径法&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>Dijkstra算法&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="366" transform="matrix(1,0,0,1,324,1407)" ed:width="93.40000000000001" ed:height="23.35" id="384">
        <path stroke-linejoin="round" stroke="#5fb7f1" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">动态路由</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000;&quot;>1. 距离矢量路由算法&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>每个路由器都要维护一张矢量表，这个矢量表中的每一行都记录了从当前位置能到达的最佳出口（接口）和距离（跳数）。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>每隔一段时间路由器会&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>向所有邻居节点发送自己的这个表，同时它也会接收每个邻居发来的它们的表，并进行对比更新&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。对比更新过程为路由器X离路由器Y的距离是m，如果收到邻居Y发来的“邻居Y距离路由器Z的距离是n”，那么可得到：路由器X到路由器Z的距离为m+n。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>继续类推，要不了多久，每个路由器就可以将网络中所有路由节点和子网线路都汇聚起来。&lt;/span>&lt;/p>&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>优点：非常简单清晰，且任何加入到网络中的新节点都能很快的与其它节点建立起联系获得补充信息。&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>缺点：首先就是每次发送信息的时候，要发送整个全局路由表，太大了，因为每个路由器需要在矢量表中记录下整个网络的信息，&lt;span style=&quot; background-color:#ffff00;&quot;>导致需要较大存储、CPU、网络开销，对资源的要求越来越高&lt;/span>。还有一个问题就是&lt;span style=&quot; background-color:#ffff00;&quot;>收敛时间太慢&lt;/span>，也就是路由器共享路由信息并使各台路由器掌握的网络情况达到一致所需的时间比较久，收敛速度慢会导致有些路由器的表更新慢，从而造成路由环路的问题&lt;/li>&lt;/ul>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000;&quot;>2. 链路状态路由&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>基于Dijkstra算法。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>采用动态拼接地图的方式，每一个路由器首先会发现自己身边的邻居节点，然后将自己与邻居节点之间的链路状态包广播出去。别的路由器收到后，会进行拼装，从而形成全局网络视图。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="307" transform="matrix(1,0,0,1,1042,1268)" ed:width="134.2" ed:height="23.35" id="386">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L134.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">常见应用层协议</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>HTTP：TCP 80&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>HTTPS：TCP 443&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>DHCP：UDP 67/68&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>FTP：TCP 20/21&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>DNS：UDP/TCP 53&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>TELNET：TCP 23&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(108,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,282,846)" ed:width="100.6" ed:height="23.35" id="388">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L100.6,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">粘包/拆包</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>拆包&lt;/span>&lt;/p>&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>应用程序写入的数据大于套接字缓冲区大小&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>写入数据大于MSS&lt;/li>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>粘包&lt;/span>&lt;/p>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>应用程序多次写入的数据都比较小，将会合成一个报文发送&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>接收端不及时读，也会发生粘包。&lt;/li>&lt;/ul>&lt;/body>">
            <use transform="translate(75,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,290,1025)" ed:width="93.40000000000001" ed:height="23.35" id="390">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">三次握手</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>建立一个TCP连接时，需要客户端和服务器总共发送3个包。&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>进行三次握手的主要作用是为了确认双方的接收能力和发送能力是否正常，指定自己的初始序列号为后面的可靠传输做准备&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>实质上是连接服务器指定端口，建立TCP连接，&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>并同步连接双方的序列号和确认号，交换TCP窗口大小信息&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>1. 防止过期的SYN包到达服务端，使服务端误认为新连接。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>2. 确认双方的接收和发送能力。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>3. 确认序列号和对方的接收窗口等。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="390" transform="matrix(1,0,0,1,169,966)" ed:width="93.40000000000001" ed:height="23.35" id="392">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">两次握手</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000; background-color:#ffff00;&quot;>只有通过三次握手才能确认双发的发送和接收能力是正常的&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>当使用两次握手时，会出现以下情况：&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>如客户端发出连接请求，但因连接请求报文丢失而未收到确认，于是客户端再重传一次连接请求。后来收到了确认，建立了连接。数据传输完毕后，就释放了连接，客户端共发出了两个连接请求报文段，其中第一个丢失，第二个到达了服务端，&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>但是第一个丢失的报文段只是在某些网络结点长时间滞留了，延误到连接释放以后的某个时间才到达服务端，此时服务端误认为客户端又发出一次新的连接请求，于是就向客户端发出确认报文段，同意建立连接，不采用三次握手，只要服务端发出确认，就建立新的连接了，此时客户端忽略服务端发来的确认，也不发送数据，则服务端一直等待客户端发送数据，浪费资源&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="390" transform="matrix(1,0,0,1,156,996)" ed:width="107" ed:height="23.35" id="394">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L107,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">半连接队列</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>半连接队列&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>服务器第一次收到客户端的SYN之后，就会处于SYN_RCVD状态，此时双方还未建立连接，服务器会把此种状态下的请求连接放在一个队列里。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>关于&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000;&quot;>SYN-ACK 重传次数&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>的问题：服务器发送完SYN-ACK包，如果未收到客户确认包，服务器进行首次重传，等待一段时间仍未收到客户确认包，进行第二次重传。&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>如果重传次数超过系统规定的最大重传次数，系统将该连接信息从半连接队列中删除&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。注意，每次重传等待的时间不一定相同，一般会是指数增长，例如间隔时间为 200ms, 400ms，800ms...&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>再细致一点，半连接队列又可称为syns queue（即当服务端处于syn_recv状态时)&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(81,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="390" transform="matrix(1,0,0,1,156,1025)" ed:width="107" ed:height="23.35" id="396">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L107,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">全连接队列</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>已经完成三次握手，建立起连接的就会放在全连接队列中。如果队列满了就有可能会出现丢包现象。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>简单来说TCP三次握手后有个accept队列，进到这个队列才能从Listen变成accept，默认backlog 值是50，很容易就满了。满了之后握手第三步的时候server会按照tcp_abort_on_overflow参数采取相应的措施。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>tcp_abort_on_overflow:&lt;/span>&lt;/p>&lt;ul style=&quot;margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;&quot;>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>0：表示三次握手的第三步时，如果全连接队列满了，那么server扔掉client发过来的ack。&lt;/li>&lt;li style=&quot; font-family:'Consolas'; font-size:11pt;&quot; style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>1：表示全连接满的时候就发送一个reset包给client。&lt;/li>&lt;/ul>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;/body>">
            <use transform="translate(81,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,338,1143)" ed:width="45.2" ed:height="23.35" id="402">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L45.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">攻击</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="402" transform="matrix(1,0,0,1,223,1128)" ed:width="87.8" ed:height="23.35" id="404">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L87.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">SYN攻击</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>SYN攻击属于DOS攻击的一种，&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>它利用TCP协议缺陷，通过发送大量的半连接请求，耗费CPU和内存资源&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。SYN攻击除了能影响主机外，还可以危害路由器、防火墙等网络系统，事实上SYN攻击并不管目标是什么系统，只要这些系统打开TCP服务就可以实施。从上图可看到，服务器接收到连接请求（syn=j），将此信息加入未连接队列，并发送请求包给客户（syn=k,ack=j+1），此时进入SYN_RECV状态。当服务器未收到客户端的确认包时，重发请求包，一直到超时，才将此条目从未连接队列删除。配合IP欺骗，SYN攻击能达到很好的效果，&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; color:#ff0000; background-color:#ffff00;&quot;>通常，客户端在短时间内伪造大量不存在的IP地址，向服务器不断地发送syn包，服务器回复确认包，并等待客户的确认，由于源地址是不存在的，服务器需要不断的重发直至超时，这些伪造的SYN包将长时间占用未连接队列，正常的SYN请求被丢弃，目标系统运行缓慢，严重者引起网络堵塞甚至系统瘫痪&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(62,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="402" transform="matrix(1,0,0,1,252,1173)" ed:width="58.8" ed:height="23.35" id="406">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L58.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">子主题</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="404" transform="matrix(1,0,0,1,75,1113)" ed:width="120.6" ed:height="23.35" id="408">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L120.6,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">过滤网关防护</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>过滤网关主要指防火墙（当然路由器也可以）：&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>1. 网关超时设置&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>防火墙设置SYN转发超时参数（状态检测的防火墙可在状态表里面设置），该参数远小于服务器的timeout时间&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。当客户端发送完SYN包，服务端发送确认包后（SYN＋ACK），防火墙如果在计数器到期时还未收到客户端的确认包（ACK），则往服务器发送RST包，以使服务器从队列中删去该半连接。&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>值得注意的是，网关超时参数设置不宜过小也不宜过大，超时参数设置过小会影响正常的通讯，设置太大，又会影响防范SYN攻击的效果，必须根据所处的网络应用环境来设置此参数&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>2. SYN网关&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>SYN网关收到客户端的SYN包时，直接转发给服务器；SYN网关收到服务器的SYN/ACK包后，将该包转发给客户端，同时以客户端的名义给服务器发ACK确认包。此时服务器由半连接状态进入连接状态。当客户端确认包到达时，如果有数据则转发，否则丢弃。事实上，服务器除了维持半连接队列外，还要有一个连接队列，&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>如果发生SYN攻击时，将使连接队列数目增加，但一般服务器所能承受的连接数量比半连接数量大得多&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>，所以这种方法能有效地减轻对服务器的攻击。 （这种方法一般般）&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>3. SYN代理&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>当客户端SYN包到达过滤网关时，SYN代理并不转发SYN包，而是以服务器的名义主动回复SYN/ACK包给客户&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>，如果收到客户的ACK包，表明这是正常的访问，此时防火墙向服务器发送ACK包并完成三次握手。SYN代理事实上代替了服务器去处理SYN攻击，此时要求过滤网关自身具有很强的防范SYN攻击能力&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;/body>">
            <use transform="translate(95,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="404" transform="matrix(1,0,0,1,46,1143)" ed:width="150.2" ed:height="23.35" id="410">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L150.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">加固TCP/IP协议栈</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>防范SYN攻击的另一项主要技术是调整tcp/ip协议栈，修改tcp协议实现。主要方法有SynAttackProtect保护机制、SYN cookies技术、增加最大半连接和缩短超时时间等。tcp/ip协议栈的调整可能会引起某些功能的受限，管理员应该在进行充分了解和测试的前提下进行此项工作。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>1. SynAttackProtect机制&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>SynAttackProtect机制是通过关闭某些socket选项，增加额外的连接指示和减少超时时间，使系统能处理更多的SYN连接，以达到防范SYN攻击的目的。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>2. SYN cookies技术&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>在TCP实现中，当收到客户端的SYN请求时，服务器需要回复SYN＋ACK包给客户端，客户端也要发送确认包给服务器。通常，服务器的初始序列号由服务器按照一定的规律计算得到或采用随机数，但在SYN cookies中，服务器的初始序列号是通过对客户端IP地址、客户端端囗、服务器IP地址和服务器端囗以及其他一些安全数值等要素进行hash运算，加密得到的，称之为cookie。当服务器遭受SYN攻击使得backlog队列满时，&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>服务器并不拒绝新的SYN请求，而是回复cookie（回复包的SYN序列号）给客户端， 如果收到客户端的ACK包，服务器将客户端的ACK序列号减去1得到cookie比较值，并将上述要素进行一次hash运算，看看是否等于此cookie。如果相等，直接完成三次握手（注意：此时并不用查看此连接是否属于backlog队列）&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;/body>">
            <use transform="translate(124,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="302" transform="matrix(1,0,0,1,324,906)" ed:width="58.8" ed:height="23.35" id="412">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L58.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">标志位</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="412" transform="matrix(1,0,0,1,209,906)" ed:width="87.8" ed:height="23.35" id="414">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L87.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">推送PSH</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>两个进程在进行交互式通信时，一个进程键入一个命令希望另一个进程立即收到该进程的响应，将PSH置为1，TCP使用推送操作，发送方发送一个报文段，接收方收到TCP推送的报文段时，立即向前交付接受应用程序，不等整个缓冲区满了才向上交付。如SSH过程等&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(62,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="412" transform="matrix(1,0,0,1,209,936)" ed:width="87.8" ed:height="23.35" id="416">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L87.8,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">紧急URG</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>当 URG = 1 时，发送应用进程就告诉发送方 TCP 有紧急数据要传送，于是发送方 TCP 就把紧急数据插入到报文段的最前面，而紧急数据后面的数据仍然是普通数据。紧急指针（Urgent Pointer）就是表示本报文段中紧急数据的字节数（紧急数据结束后就是普通数据），即紧急数据末尾在报文段中的位置。当所有紧急数据都处理完，TCP 就告诉应用层序恢复到正常操作。值得注意的是，即使窗口为 0，也可发紧急数据。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(62,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="390" transform="matrix(1,0,0,1,22,1055)" ed:width="240.6" ed:height="21.75" id="418">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,21.8L240.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">ISN(Initial Sequence Number)</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>三次握手的其中一个重要功能是客户端和服务端交换 ISN(Initial Sequence Number)，以便让对方知道接下来接收数据的时候如何按序列号组装数据。如果 ISN 是固定的，攻击者很容易猜出后续的确认号，因此 ISN 是动态生成的。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(215,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="390" transform="matrix(1,0,0,1,169,1083)" ed:width="93.40000000000001" ed:height="23.35" id="420">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L93.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">携带数据</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>第一次握手不可以放数据，其中一个简单的原因就是会让服务器更加容易受到攻击了。而对于第三次的话，此时客户端已经处于 ESTABLISHED 状态。对于客户端来说，他已经建立起连接了，并且也已经知道服务器的接收、发送能力是正常的了，所以能携带数据也没啥毛病。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(68,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="260" transform="matrix(1,0,0,1,1251,664)" ed:width="94" ed:height="23.35" id="422">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L94,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">2. 三次连接</tspan>
        </text>
    </g>
    <g ed:layout="leftmap" ed:parentid="360" transform="matrix(1,0,0,1,402,1437)" ed:width="115" ed:height="23.35" id="424">
        <path stroke-linejoin="round" stroke="#5fb7f1" d="M0,23.4L115,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">DNS负载均衡</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>DNS将域名解析为一组服务器，然后轮询，返回各服务器的IP&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>实际场景下，这一组服务器都是负载均衡服务器。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(89,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="leftmap" ed:parentid="379" transform="matrix(1,0,0,1,317,1233)" ed:width="165.4" ed:height="23.35" id="426">
        <path stroke-linejoin="round" stroke="#ffcd55" d="M0,23.4L165.4,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">udp调用connect作用</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>1. udp调用connect并不会触发三次握手，仅仅是把对端的ip&amp;amp;port记录下来。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>2. udp可以多次调用connect，用于指定新连接或是断开之前的连接。&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>3. udp使用connect可以提高效率，不使用connect每次使用sendTo，将先连接，发送数据包，再断开。而使用了connect，则无需重复连接和断开连接的步骤，并且可以使用send()/revc()，read()/write();&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>4. UDP中使用connect的好处:1:会提升效率.前面已经描述了.2:&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>高并发服务中会增加系统稳定性&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>.原因:假设client A 通过非connect的UDP与server B,C通信.B,C提供相同服务.为了负载均衡,我们让A与B,C交替通信.A与 B通信IPa:PORTa &amp;lt;----&amp;gt; IPb:PORTbA与 C通信IPa:PORTa' &amp;lt;----&amp;gt;IPc:PORTc&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>假设PORTa与 PORTa'相同了(&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; background-color:#ffff00;&quot;>在大并发情况下会发生这种情况&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>),那么就有可能出现A等待B的报文,却收到了C的报文.导致收报错误.解决方法内就是采用connect的UDP通信方式.在A中创建两个udp,然后分别connect到B,C.&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(140,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="238" transform="matrix(1,0,0,1,1116,547)" ed:width="45.2" ed:height="23.35" id="430">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,23.4L45.2,23.4" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="16.3" x="8" style="white-space:pre">缓存</tspan>
        </text>
    </g>
    <g ed:layout="rightmap" ed:parentid="430" transform="matrix(1,0,0,1,1188,519)" ed:width="82.2" ed:height="21.75" id="432">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L82.2,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">Pragma</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>Pragma：是HTTP1.0标准中定义的一个header属性。请求（字段）中包含Pragma的效果跟在头信息中定义Cache-Control: no-cache相同，但是HTTP的响应头没有明确定义这个属性，所以它不能拿来完全替代HTTP/1.1中定义的Cache-control头。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(56,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="430" transform="matrix(1,0,0,1,1188,547)" ed:width="89.40000000000001" ed:height="21.75" id="434">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L89.4,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">Expires</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>Expires：是HTTP/1.0设置缓存过期时间的，Expires响应字段包含了资源过期的日期和时间（相对于服务器时间）。如果Cache-Control中设置了max-age或s-max-age，那么Expires头被忽略。如果该字段与Pragma同时存在时，Pragma起作用。&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(64,3)" xlink:href="#note"/>
        </g>
    </g>
    <g ed:layout="rightmap" ed:parentid="430" transform="matrix(1,0,0,1,1188,576)" ed:width="132.6" ed:height="21.75" id="436">
        <path stroke-linejoin="round" stroke="#ff7575" d="M0,21.8L132.6,21.8" stroke-width="2" fill="none"/>
        <text class="st31">
            <tspan y="14.7" x="8" style="white-space:pre">Cache-Control</tspan>
        </text>
        <g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>HTTP/1.1，用来控制缓存行为。通过它提供的不同的值来定义缓存策略。请求头和响应头都支持这个属性。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>1. max-age&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>指定设置缓存最大的有效时间，定义的是时间长短。当浏览器向服务器发送请求后，在max-age这段时间里浏览器就不会再向服务器发送请求了。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>2. s-maxage&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>同max-age，只用于共享缓存（比如CDN缓存）。比如，当s-maxage=60时，在这60秒中，即使更新了CDN的内容，浏览器也不会进行请求。也就是说max-age用于普通缓存，而s-maxage用于代理缓存。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>3. public&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>指定响应会被缓存，并且在多用户间（多浏览器间）共享。也就是下图的意思。如果没有指定public还是private，则默认为public。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>4. private&lt;/span>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;> &lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>响应只作为私有的缓存（见下图），不能在用户间共享。如果要求HTTP认证，响应会自动设置为 private&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>5. no-cache&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>指定不缓存响应，表明资源不进行缓存，但是设置了 no-cache 之后并不代表浏览器不缓存，而是在获取缓存前要向服务器确认资源是否被更改。因此有的时候只设置 no-cache 防止缓存还是不够保险，还可以加上 private 指令，将过期时间设为过去的时间。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>6. no-store&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>绝对禁止缓存，一看就知道如果用了这个命令当然就是不会进行缓存啦～每次请求资源都要从服务器重新获取。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt; font-weight:600; color:#ff0000;&quot;>7. must-revalidate&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>指定如果页面是过期的，则去服务器进行获取。这个指令并不常用，就不做过多的讨论了。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'Consolas'; font-size:11pt;&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'Consolas'; font-size:11pt;&quot;>https://juejin.im/entry/6844903897476120584&lt;/span>&lt;/p>&lt;/body>">
            <use transform="translate(107,3)" xlink:href="#note"/>
        </g>
    </g>
    <symbol id="plus">
        <path d="M11,6C11,8.8,8.8,11,6,11C3.2,11,1,8.8,1,6C1,3.2,3.2,1,6,1C8.8,1,11,3.2,11,6z" fill="url(#lg9)"/>
        <path stroke="#46a000" d="M11,6C11,8.8,8.8,11,6,11C3.2,11,1,8.8,1,6C1,3.2,3.2,1,6,1C8.8,1,11,3.2,11,6zM3,6L9,6M6,3L6,9" stroke-width="0.7" fill="none"/>
    </symbol>
    <symbol id="minus">
        <path d="M11,6C11,8.8,8.8,11,6,11C3.2,11,1,8.8,1,6C1,3.2,3.2,1,6,1C8.8,1,11,3.2,11,6z" fill="url(#lg9)"/>
        <path stroke="#46a000" d="M11,6C11,8.8,8.8,11,6,11C3.2,11,1,8.8,1,6C1,3.2,3.2,1,6,1C8.8,1,11,3.2,11,6zM3,6L9,6" stroke-width="0.7" fill="none"/>
    </symbol>
    <g ed:togtopicid="236" transform="translate(869,735)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="237" transform="translate(547,58)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="238" transform="translate(1090,675)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="243" transform="translate(1185,286)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="244" transform="translate(1185,420)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="256" transform="translate(1327,435)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="260" transform="translate(1225,669)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="261" transform="translate(1361,624)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="280" transform="translate(1204,814)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="287" transform="translate(464,363)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="290" transform="translate(496,808)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="291" transform="translate(397,437)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="292" transform="translate(397,556)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="302" transform="translate(397,927)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="306" transform="translate(563,808)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="307" transform="translate(1016,735)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="313" transform="translate(513,218)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="326" transform="translate(1183,1042)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="343" transform="translate(1110,1214)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="347" transform="translate(330,570)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="379" transform="translate(496,1238)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="360" transform="translate(531,1384)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="366" transform="translate(432,1398)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="390" transform="translate(277,1030)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="402" transform="translate(325,1149)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="404" transform="translate(210,1134)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="412" transform="translate(311,912)">
        <use xlink:href="#minus"/>
    </g>
    <g ed:togtopicid="430" transform="translate(1162,552)">
        <use xlink:href="#minus"/>
    </g>
</svg>
</div>
        <div id="copyright">Created With  <a href="https://www.edrawsoft.com/" target="_blank" title="edrawsoft">MindMaster</a></div>
      </div>
    </div>
    <script>eval(atob('dmFyIG11YT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsNCnZhciB1YT0obXVhLmluZGV4T2YoJ3J2OjExJykrbXVhLmluZGV4T2YoJ01TSUUnKSk+PTA7DQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnLWNvbnRhaW5lcicpLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoZXZlbnQpIHsNCiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KfQ0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N2Zy1jb250YWluZXInKS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uIChldmVudCkgew0KICAgIGlmKGV2ZW50LndoaWNoID09Myl7DQogICAgICAgIHRoaXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOw0KICAgICAgICB0aGlzLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24gKGV2KSB7DQogICAgICAgICAgICB0aGlzLnNjcm9sbEJ5KC0oZXYubW92ZW1lbnRYKSwgMCk7DQogICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwtKGV2Lm1vdmVtZW50WSkpDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5vbm1vdXNldXAgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLnN0eWxlLmN1cnNvciA9ICBudWxsOw0KICAgICAgICAgICAgdGhpcy5vbm1vdXNldXAgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5vbm1vdXNlbW92ZSA9IG51bGw7DQogICAgICAgIH0NCiAgICB9DQp9DQpOdW1iZXIucHJvdG90eXBlLnRvc3VpdHN2Zz1mdW5jdGlvbiAoKSB7DQogICAgdmFyIG51bT10aGlzLnZhbHVlT2YoKTsNCiAgICBpZihudW0lMT09PTApew0KICAgICAgICByZXR1cm4gbnVtKzAuNQ0KICAgIH1lbHNlIHJldHVybiBudW07DQp9Ow0KTnVtYmVyLnByb3RvdHlwZS5wbHVzej1mdW5jdGlvbigpIHsNCiAgICB2YXIgbnVtPXRoaXMudmFsdWVPZigpOw0KICAgIHJldHVybiBudW08MTA/JzAnK251bTpudW07DQp9Ow0KZnVuY3Rpb24gcGFyc2VEYXRlKG51bSkgew0KICAgIHZhciBkYXRlID0gbmV3IERhdGUobnVtKTsNCiAgICB2YXIgWSA9IGRhdGUuZ2V0RnVsbFllYXIoKSArICctJzsNCiAgICB2YXIgTSA9IChkYXRlLmdldE1vbnRoKCkrMSkucGx1c3ooKSArICctJzsNCiAgICB2YXIgRCA9IGRhdGUuZ2V0RGF0ZSgpLnBsdXN6KCkgKyAnICc7DQogICAgdmFyIGggPSBkYXRlLmdldEhvdXJzKCkucGx1c3ooKSArICc6JzsNCiAgICB2YXIgbW0gPSBkYXRlLmdldE1pbnV0ZXMoKS5wbHVzeigpICsgJzonOw0KICAgIHZhciBzID0gZGF0ZS5nZXRTZWNvbmRzKCkucGx1c3ooKTsNCiAgICByZXR1cm4gWStNK0QraCttbStzOw0KfQ0KLy8tLXByZWRlZmluZWQNCi8vY29tbWVudC0tDQp2YXIgY29tbWVudHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZz5nW2VkXFw6Y29tbWVudF0nKTsNCmZ1bmN0aW9uIGdldGN3aChwb3B1cCkgew0KICAgIGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N2ZycpWzBdLmFwcGVuZENoaWxkKHBvcHVwKTsNCiAgICB2YXIgdz1wb3B1cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDsNCiAgICB2YXIgaD1wb3B1cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7DQogICAgcmV0dXJuIFt3LGhdDQp9DQpmb3IodmFyIGk9MDtpPGNvbW1lbnRzLmxlbmd0aDtpKyspew0KICAgIHZhciBwb3B1cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywnZycpOw0KICAgIHZhciBwb3B1cFI9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgdmFyIGhvdmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgdmFyIG9saW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgaG92ZXIuc2V0QXR0cmlidXRlKCdmaWxsJywnI2NkY2RmZicpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgneCcsJzAnKTsNCiAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ3knLCcwJyk7DQogICAgaG92ZXIuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCcxNicpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCcxNicpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JywnMC42Jyk7DQogICAgaG92ZXIuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLGNvbW1lbnRzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykpOw0KICAgIGhvdmVyLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgIGNvbW1lbnRzW2ldLmFwcGVuZENoaWxkKGhvdmVyKTsNCiAgICB2YXIgYT1KU09OLnBhcnNlKGNvbW1lbnRzW2ldLmdldEF0dHJpYnV0ZSgnZWQ6Y29tbWVudCcpKTsNCiAgICB2YXIgaGVpZ2h0PTA7DQogICAgdmFyIGNhcnI9W107DQogICAgZm9yKHZhciBqPTA7ajxhLmxlbmd0aDtqKyspew0KICAgICAgICB2YXIgc3RhbXA9TnVtYmVyKGFbal0uRGF0ZSkqMTAwMDsNCiAgICAgICAgdmFyIHRpbWU9cGFyc2VEYXRlKHN0YW1wKTsNCiAgICAgICAgdmFyIG5hbWU9YVtqXS5OYW1lOw0KICAgICAgICB2YXIgbWVzc2FnZT1hW2pdLk1lc3NhZ2U7DQogICAgICAgIHZhciBtZXNzYWdlQXJyPW1lc3NhZ2Uuc3BsaXQoL1xuLyk7DQogICAgICAgIHZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdnJyk7DQogICAgICAgIHZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIHZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIHZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIG4uc2V0QXR0cmlidXRlKCd4Jyw1KTsNCiAgICAgICAgbi5zZXRBdHRyaWJ1dGUoJ3knLDEyKTsNCiAgICAgICAgbi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCcjMDA2ZWZmJyk7DQogICAgICAgIG4udGV4dENvbnRlbnQ9bmFtZSsnOiAnOw0KICAgICAgICBuLnNldEF0dHJpYnV0ZSgnZm9udC1zaXplJywnMTInKTsNCiAgICAgICAgdC5zZXRBdHRyaWJ1dGUoJ3gnLDIwMCk7DQogICAgICAgIHQuc2V0QXR0cmlidXRlKCd5JywxMik7DQogICAgICAgIHQuc2V0QXR0cmlidXRlKCdmaWxsJywnIzk2OTY5NicpOw0KICAgICAgICB0LnRleHRDb250ZW50PXRpbWU7DQogICAgICAgIHQuc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCcxMCcpOw0KICAgICAgICBtLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywndHJhbnNsYXRlKDIwLDI3KScpOw0KICAgICAgICBtLnNldEF0dHJpYnV0ZSgnZm9udC1zaXplJywnMTInKTsNCiAgICAgICAgZm9yKHZhciBrPTA7azxtZXNzYWdlQXJyLmxlbmd0aDtrKyspew0KICAgICAgICAgICAgdmFyIHRzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0c3BhbicpOw0KICAgICAgICAgICAgdHMuc2V0QXR0cmlidXRlKCd4JywnMCcpOw0KICAgICAgICAgICAgdHMuc2V0QXR0cmlidXRlKCd5JyxrKjE2KTsNCiAgICAgICAgICAgIHRzLnRleHRDb250ZW50PW1lc3NhZ2VBcnJba107DQogICAgICAgICAgICBtLmFwcGVuZENoaWxkKHRzKTsNCiAgICAgICAgfQ0KICAgICAgICBvLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywndHJhbnNsYXRlKDAsJytoZWlnaHQrJyknKTsNCiAgICAgICAgby5hcHBlbmRDaGlsZChuKTsNCiAgICAgICAgby5hcHBlbmRDaGlsZCh0KTsNCiAgICAgICAgby5hcHBlbmRDaGlsZChtKTsNCiAgICAgICAgY2Fyci5wdXNoKG8pOw0KICAgICAgICBwb3B1cC5hcHBlbmRDaGlsZChvKTsNCiAgICAgICAgaGVpZ2h0PShtZXNzYWdlQXJyLmxlbmd0aCsxKSoxNitoZWlnaHQ7DQogICAgfQ0KICAgIHZhciB3YXJyPWdldGN3aChwb3B1cCk7DQogICAgb2xpbmUuc2V0QXR0cmlidXRlKCd4JywnMCcpOw0KICAgIG9saW5lLnNldEF0dHJpYnV0ZSgneScsJzAnKTsNCiAgICB2YXIgb3c9d2FyclswXSsxMC41Ow0KICAgIHZhciBvaD13YXJyWzFdKzM7DQogICAgb2xpbmUuc2V0QXR0cmlidXRlKCd3aWR0aCcsb3cpOw0KICAgIG9saW5lLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JyxvaCk7DQogICAgb2xpbmUuc2V0QXR0cmlidXRlKCdmaWxsJywnd2hpdGUnKTsNCiAgICBvbGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsJyM2NTY1NjUnKTsNCiAgICBwb3B1cC5hcHBlbmRDaGlsZChvbGluZSk7DQogICAgdmFyIGw9Y2Fyci5sZW5ndGg7DQogICAgd2hpbGUobC0tKXsNCiAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQoY2FycltsXSk7DQogICAgfQ0KICAgIHBvcHVwLm9ubW91c2VvdmVyPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5PSdibG9jayc7DQogICAgfTsNCiAgICBwb3B1cC5vbm1vdXNlb3V0PWZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgIH07DQogICAgdmFyIGNzPWNvbW1lbnRzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykubWF0Y2goL1woKFxTKnxcUypcc1xTKilcKS8pWzFdLnNwbGl0KC8gfCwvKTsNCiAgICB2YXIgcHM9Y29tbWVudHNbaV0ucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpOw0KICAgIGlmKHBzLnN1YnN0cigwLDIpID09ICd0cicpew0KICAgICAgICB2YXIgcHBzID0gcHMubWF0Y2goL1woKFxTKnxcUypcc1xTKilcKS8pWzFdLnNwbGl0KC8gfCwvKTsNCiAgICAgICAgdmFyIHg9cGFyc2VGbG9hdChjc1swXSkrcGFyc2VGbG9hdChwcHNbMF0pOw0KICAgICAgICB2YXIgeT1wYXJzZUZsb2F0KHBwc1sxXSk7DQogICAgICAgIHg9eC50b3N1aXRzdmcoKTsNCiAgICAgICAgeT15LnRvc3VpdHN2ZygpOw0KICAgICAgICB2YXIgdHJzdHIgPSAndHJhbnNsYXRlKCcreCsnLCcreSsnKSc7DQogICAgfQ0KICAgIGVsc2UgaWYocHMuc3Vic3RyKDAsMikgPT0gJ21hJyl7DQogICAgICAgIHZhciBwcHMgPSBwcy5tYXRjaCgvKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVwpJC8pOw0KICAgICAgICB2YXIgbWFBcnIgPSBbcGFyc2VGbG9hdChwcHNbMV0pLHBhcnNlRmxvYXQocHBzWzNdKSxwYXJzZUZsb2F0KHBwc1s1XSkscGFyc2VGbG9hdChwcHNbN10pLHBhcnNlRmxvYXQocHBzWzldKSxwYXJzZUZsb2F0KHBwc1sxMV0pXTsNCiAgICAgICAgaWYobWFBcnJbMV0gPT0gMCl7DQogICAgICAgICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoY3NbMF0pOw0KICAgICAgICAgICAgdmFyIHk9IHBhcnNlRmxvYXQoY3NbMV0pKzE2Ow0KICAgICAgICAgICAgdmFyIHgxID0geCAqIG1hQXJyWzBdICsgeSAqIG1hQXJyWzJdICsgbWFBcnJbNF07DQogICAgICAgICAgICB2YXIgeTEgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgIHgxPXgxLnRvc3VpdHN2ZygpOw0KICAgICAgICAgICAgeTE9eTEudG9zdWl0c3ZnKCk7DQogICAgICAgICAgICB2YXIgdHJzdHIgPSAgJ3RyYW5zbGF0ZSgnK3gxKycsJyt5MSsnKSc7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KGNzWzBdKSsxNjsNCiAgICAgICAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChjc1sxXSkrMTY7DQogICAgICAgICAgICB2YXIgeDEgPSB4ICogbWFBcnJbMF0gKyB5ICogbWFBcnJbMl0gKyBtYUFycls0XTsNCiAgICAgICAgICAgIHZhciB5MSA9IHggKiBtYUFyclsxXSArIHkgKiBtYUFyclszXSArIG1hQXJyWzVdOw0KICAgICAgICAgICAgeCA9IHBhcnNlRmxvYXQoY3NbMF0pKzE2Ow0KICAgICAgICAgICAgeSA9IHBhcnNlRmxvYXQoY3NbMV0pOw0KICAgICAgICAgICAgdmFyIHgyID0geCAqIG1hQXJyWzBdICsgeSAqIG1hQXJyWzJdICsgbWFBcnJbNF07DQogICAgICAgICAgICB2YXIgeTIgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgIHZhciBmeCA9IHgxPHgyP3gxLnRvc3VpdHN2ZygpOiB4Mi50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHZhciBmeSA9IHkxPnkyP3kxLnRvc3VpdHN2ZygpOiB5Mi50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHZhciBvZmZ5ID0gTWF0aC5hYnMoeTEteTIpOw0KICAgICAgICAgICAgdmFyIHRyc3RyID0gICd0cmFuc2xhdGUoJytmeCsnLCcrZnkrJyknOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JyxvZmZ5LnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCcxNicpOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgneScsKC1vZmZ5KS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHBvcHVwUi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCd0cmFuc3BhcmVudCcpOw0KICAgICAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQocG9wdXBSKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBwb3B1cC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsdHJzdHIpOw0KICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnY29tbWVudCcsJycpOw0KICAgIHBvcHVwLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnZWQ6Y29tbWVudGlkJyxjb21tZW50c1tpXS5wYXJlbnROb2RlLmlkKTsNCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnLWNvbnRhaW5lciA+IHN2ZycpLmFwcGVuZENoaWxkKHBvcHVwKTsNCiAgICBjb21tZW50c1tpXS5vbm1vdXNlb3Zlcj1mdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBjb21tZW50aWQ9dGhpcy5wYXJlbnROb2RlLmlkOw0KICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3JlY3QnKS5zdHlsZS5kaXNwbGF5PSdibG9jayc7DQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImdbZWRcXDpjb21tZW50aWQ9JyIrY29tbWVudGlkKyInXVtjb21tZW50XSIpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsNCiAgICB9Ow0KICAgIGNvbW1lbnRzW2ldLm9ubW91c2VvdXQ9ZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgY29tbWVudGlkPXRoaXMucGFyZW50Tm9kZS5pZDsNCi8vICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7DQogICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcigncmVjdCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6Y29tbWVudGlkPSciK2NvbW1lbnRpZCsiJ11bY29tbWVudF0iKS5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICB9DQp9DQovLy0tY29tbWVudA0KLy9ub3RlLS0NCmlmKCF1YSl7DQogICAgdmFyIG5vdGVzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2c+Z1tlZFxcOm5vdGVdJyk7DQogICAgZnVuY3Rpb24gZ2V0d2gocyxwKSB7DQogICAgICAgIHZhciBtYWlucD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgbWFpbnAuc3R5bGUuY3NzVGV4dD1zOw0KICAgICAgICBtYWlucC5zdHlsZS5kaXNwbGF5PSdpbmxpbmUtYmxvY2snOw0KCQltYWlucC5zdHlsZS5tYXhXaWR0aCA9ICc0MDBweCc7DQoJCW1haW5wLnN0eWxlLndvcmRCcmVhayA9ICdicmVhay1hbGwnOw0KICAgICAgICBtYWlucC5pbm5lckhUTUw9cDsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtYWlucCk7DQogICAgICAgIHZhciB3PW1haW5wLmNsaWVudFdpZHRoOw0KICAgICAgICB2YXIgaD1tYWlucC5jbGllbnRIZWlnaHQ7DQogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobWFpbnApOw0KICAgICAgICByZXR1cm4gW3csaF0NCiAgICB9DQogICAgZm9yKHZhciBpPTA7aTxub3Rlcy5sZW5ndGg7aSsrKXsNCiAgICAgICAgdmFyIGE9bm90ZXNbaV0uZ2V0QXR0cmlidXRlKCdlZDpub3RlJyk7DQoJCXZhciBub3RlTG9jayA9IG5vdGVzW2ldLmdldEF0dHJpYnV0ZSgnZWQ6bm90ZWxvY2snKTsNCiAgICAgICAgaWYobm90ZUxvY2sgPT0gJ3RydWUnKXsNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQogICAgICAgIHZhciBtYWlucD1hLm1hdGNoKC88Ym9keVtePl0qPiguKik8XC9ib2R5Pi8pWzFdOw0KICAgICAgICB2YXIgbWFpbnM9YS5tYXRjaCgvc3R5bGU9IiguKj8pIi8pWzFdOw0KICAgICAgICB2YXIgb3V0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdnJyk7DQogICAgICAgIHZhciBvbGluZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywncmVjdCcpOw0KICAgICAgICB2YXIgcG9wdXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ2ZvcmVpZ25PYmplY3QnKTsNCiAgICAgICAgdmFyIHBvcHVwUj0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ3JlY3QnKTsNCiAgICAgICAgdmFyIGhvdmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnZmlsbCcsJyNjZGNkZmYnKTsNCiAgICAgICAgaG92ZXIuc2V0QXR0cmlidXRlKCd4JywnMCcpOw0KICAgICAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ3knLCcwJyk7DQogICAgICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywnMTYnKTsNCiAgICAgICAgaG92ZXIuc2V0QXR0cmlidXRlKCd3aWR0aCcsJzE2Jyk7DQogICAgICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JywnMC42Jyk7DQogICAgICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJyxub3Rlc1tpXS5xdWVyeVNlbGVjdG9yKCd1c2UnKS5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpKTsNCiAgICAgICAgaG92ZXIuc3R5bGUuZGlzcGxheT0nbm9uZSc7DQogICAgICAgIG5vdGVzW2ldLmFwcGVuZENoaWxkKGhvdmVyKTsNCiAgICAgICAgcG9wdXAuc3R5bGUuY3NzVGV4dD1tYWluczsNCiAgICAgICAgcG9wdXAuaW5uZXJIVE1MPW1haW5wOw0KICAgICAgICB2YXIgd2g9Z2V0d2gobWFpbnMsbWFpbnApOw0KICAgICAgICBwb3B1cC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJyx3aFswXSk7DQogICAgICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jyx3aFsxXSk7DQogICAgICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywndHJhbnNsYXRlKDgsNCknKTsNCgkJcG9wdXAuc3R5bGUud29yZEJyZWFrID0gJ2JyZWFrLWFsbCc7DQogICAgICAgIHBvcHVwLnN0eWxlLnRleHRBbGlnbj0nbGVmdCc7DQogICAgICAgIG9saW5lLnNldEF0dHJpYnV0ZSgneCcsJzAnKTsNCiAgICAgICAgb2xpbmUuc2V0QXR0cmlidXRlKCd5JywnMCcpOw0KICAgICAgICBvbGluZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJyx3aFswXSsxNik7DQogICAgICAgIG9saW5lLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jyx3aFsxXSs4KTsNCiAgICAgICAgb2xpbmUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCcjYTI3YTAwJyk7DQogICAgICAgIG9saW5lLnNldEF0dHJpYnV0ZSgnZmlsbCcsJyNmZmU3OWQnKTsNCiAgICAgICAgb3V0LmFwcGVuZENoaWxkKG9saW5lKTsNCiAgICAgICAgb3V0LmFwcGVuZENoaWxkKHBvcHVwKTsNCiAgICAgICAgb3V0LnNldEF0dHJpYnV0ZSgnbm90ZScsJycpOw0KICAgICAgICBvdXQuc3R5bGUuZGlzcGxheT0nbm9uZSc7DQogICAgICAgIG91dC5zZXRBdHRyaWJ1dGUoJ2VkOm5vdGVpZCcsbm90ZXNbaV0ucGFyZW50Tm9kZS5pZCk7DQogICAgICAgIG91dC5vbm1vdXNlb3Zlcj1mdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsNCiAgICAgICAgfTsNCiAgICAgICAgb3V0Lm9ubW91c2VvdXQ9ZnVuY3Rpb24gKCkgew0KLy8gICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24gPyB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlUmFuZ2Uod2luZG93LmdldFNlbGVjdGlvbigpLnJlKTpkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTsNCg0KICAgICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICAgICAgfTsNCiAgICAgICAgdmFyIGNzPW5vdGVzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykubWF0Y2goL1woKFxTKnxcUypcc1xTKilcKS8pWzFdLnNwbGl0KC8gfCwvKTsNCiAgICAgICAgdmFyIHBzPW5vdGVzW2ldLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKTsNCiAgICAgICAgaWYocHMuc3Vic3RyKDAsMikgPT0gJ3RyJyl7DQogICAgICAgICAgICB2YXIgcHBzID0gcHMubWF0Y2goL1woKFxTKnxcUypcc1xTKilcKS8pWzFdLnNwbGl0KC8gfCwvKTsNCiAgICAgICAgICAgIHZhciB4PXBhcnNlRmxvYXQoY3NbMF0pK3BhcnNlRmxvYXQocHBzWzBdKTsNCiAgICAgICAgICAgIHZhciB5PXBhcnNlRmxvYXQocHBzWzFdKTsNCiAgICAgICAgICAgIHg9eC50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHk9eS50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHZhciB0cnN0ciA9ICd0cmFuc2xhdGUoJyt4KycsJyt5KycpJzsNCiAgICAgICAgfWVsc2UgaWYocHMuc3Vic3RyKDAsMikgPT0gJ21hJyl7DQogICAgICAgICAgICB2YXIgcHBzID0gcHMubWF0Y2goLyhcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylcKSQvKTsNCiAgICAgICAgICAgIHZhciBtYUFyciA9IFtwYXJzZUZsb2F0KHBwc1sxXSkscGFyc2VGbG9hdChwcHNbM10pLHBhcnNlRmxvYXQocHBzWzVdKSxwYXJzZUZsb2F0KHBwc1s3XSkscGFyc2VGbG9hdChwcHNbOV0pLHBhcnNlRmxvYXQocHBzWzExXSldOw0KICAgICAgICAgICAgaWYobWFBcnJbMV0gPT0gMCl7DQogICAgICAgICAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KGNzWzBdKTsNCiAgICAgICAgICAgICAgICB2YXIgeSA9IHBhcnNlRmxvYXQoY3NbMV0pKzE2Ow0KICAgICAgICAgICAgICAgIHZhciB4MSA9IHggKiBtYUFyclswXSArIHkgKiBtYUFyclsyXSArIG1hQXJyWzRdOw0KICAgICAgICAgICAgICAgIHZhciB5MSA9IHggKiBtYUFyclsxXSArIHkgKiBtYUFyclszXSArIG1hQXJyWzVdOw0KICAgICAgICAgICAgICAgIHgxPXgxLnRvc3VpdHN2ZygpOw0KICAgICAgICAgICAgICAgIHkxPXkxLnRvc3VpdHN2ZygpOw0KICAgICAgICAgICAgICAgIHZhciB0cnN0ciA9ICAndHJhbnNsYXRlKCcreDErJywnK3kxKycpJzsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHZhciB4ID0gcGFyc2VGbG9hdChjc1swXSkrMTY7DQogICAgICAgICAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KGNzWzFdKSsxNjsNCiAgICAgICAgICAgICAgICB2YXIgeDEgPSB4ICogbWFBcnJbMF0gKyB5ICogbWFBcnJbMl0gKyBtYUFycls0XTsNCiAgICAgICAgICAgICAgICB2YXIgeTEgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgICAgICB4ID0gcGFyc2VGbG9hdChjc1swXSkrMTY7DQogICAgICAgICAgICAgICAgeSA9IHBhcnNlRmxvYXQoY3NbMV0pOw0KICAgICAgICAgICAgICAgIHZhciB4MiA9IHggKiBtYUFyclswXSArIHkgKiBtYUFyclsyXSArIG1hQXJyWzRdOw0KICAgICAgICAgICAgICAgIHZhciB5MiA9IHggKiBtYUFyclsxXSArIHkgKiBtYUFyclszXSArIG1hQXJyWzVdOw0KICAgICAgICAgICAgICAgIHZhciBmeCA9IHgxPHgyP3gxLnRvc3VpdHN2ZygpOiB4Mi50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgICAgICB2YXIgZnkgPSB5MT55Mj95MS50b3N1aXRzdmcoKTogeTIudG9zdWl0c3ZnKCk7DQoJCQkJdmFyIG9mZnkgPSBNYXRoLmFicyh5MS15Mik7CQkJCQkJCQkJCSAgDQogICAgICAgICAgICAgICAgdmFyIHRyc3RyID0gICd0cmFuc2xhdGUoJytmeCsnLCcrZnkrJyknOw0KICAgICAgICAgICAgICAgIHBvcHVwUi5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsb2ZmeS50b1N0cmluZygpKTsNCiAgICAgICAgICAgICAgICBwb3B1cFIuc2V0QXR0cmlidXRlKCd3aWR0aCcsJzE2Jyk7DQogICAgICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgneScsKC1vZmZ5KS50b1N0cmluZygpKTsNCiAgICAgICAgICAgICAgICBwb3B1cFIuc2V0QXR0cmlidXRlKCdmaWxsJywndHJhbnNwYXJlbnQnKTsNCiAgICAgICAgICAgICAgICBwb3B1cC5hcHBlbmRDaGlsZChwb3B1cFIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIG91dC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsdHJzdHIpOw0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnLWNvbnRhaW5lciA+IHN2ZycpLmFwcGVuZENoaWxkKG91dCk7DQogICAgICAgIG5vdGVzW2ldLm9ubW91c2VvdmVyPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBub3RlaWQ9dGhpcy5wYXJlbnROb2RlLmlkOw0KICAgICAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdyZWN0Jykuc3R5bGUuZGlzcGxheT0nYmxvY2snOw0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOm5vdGVpZD0nIitub3RlaWQrIiddW25vdGVdIikuc3R5bGUuZGlzcGxheT0nYmxvY2snOw0KICAgICAgICB9Ow0KICAgICAgICBub3Rlc1tpXS5vbm1vdXNlb3V0PWZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBub3RlaWQ9dGhpcy5wYXJlbnROb2RlLmlkOw0KLy8gICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsNCiAgICAgICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcigncmVjdCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOm5vdGVpZD0nIitub3RlaWQrIiddW25vdGVdIikuc3R5bGUuZGlzcGxheT0nbm9uZSc7DQogICAgICAgIH0NCiAgICB9DQp9ZWxzZXsNCiAgICBjb25zb2xlLmxvZygn5oqx5q2J77yMSUXmtY/op4jlmajkuI3mlK/mjIFub3Rl6Kej5p6Q77yM6K+35L2/55So5YW25LuW5YaF5qC45rWP6KeI5Zmo44CC6LCi6LCi77yBJykNCn0NCi8vLS1ub3RlDQovL2h5cGVybGluay0tDQp2YXIgbGlua3M9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZz5nW2VkXFw6aHlwZXJsaW5rXScpOw0KZnVuY3Rpb24gZ2V0bWF4bGVuKGFycixicnIpIHsNCiAgICB2YXIgbD0wOw0KICAgIHZhciBsbD0wOw0KICAgIGZvcih2YXIgaj0wO2o8YXJyLmxlbmd0aDtqKyspew0KICAgICAgICB2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywndGV4dCcpOw0KICAgICAgICBpZighaXNOYU4obGlua2FycltqXSkpew0KICAgICAgICAgICAgZS50ZXh0Q29udGVudD0nUGFnZS0nK2FycltqXTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBlLnRleHRDb250ZW50PWFycltqXTsNCiAgICAgICAgfQ0KICAgICAgICBlLnN0eWxlLmZvbnRTaXplPScxMnB4JzsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0uYXBwZW5kQ2hpbGQoZSk7DQogICAgICAgIHZhciBldz1lLmdldEJCb3goKS53aWR0aDsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0ucmVtb3ZlQ2hpbGQoZSk7DQogICAgICAgIHZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIGgudGV4dENvbnRlbnQ9YnJyW2pdOw0KICAgICAgICBoLnN0eWxlLmZvbnRTaXplPScxMnB4JzsNCiAgICAgICAgaC5zdHlsZS5mb250V2VpZ2h0PSdib2xkJzsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0uYXBwZW5kQ2hpbGQoaCk7DQogICAgICAgIHZhciBodz1oLmdldEJCb3goKS53aWR0aDsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0ucmVtb3ZlQ2hpbGQoaCk7DQogICAgICAgIGw9ZXc+aHc/ZXc6aHc7DQogICAgICAgIGxsPWw+bGw/bDpsbDsNCiAgICB9DQogICAgcmV0dXJuIGxsOw0KfQ0KZm9yKHZhciBpPTA7aTxsaW5rcy5sZW5ndGg7aSsrKXsNCiAgICB2YXIgcG9wdXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ2cnKTsNCiAgICB2YXIgcG9wdXBSPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywncmVjdCcpOw0KICAgIHZhciBob3Zlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywncmVjdCcpOw0KICAgIHZhciBkZXNjYXJyPVtdOw0KICAgIHZhciBsaW5rYXJyPVtdOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnZmlsbCcsJyNjZGNkZmYnKTsNCiAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ3gnLCcwJyk7DQogICAgaG92ZXIuc2V0QXR0cmlidXRlKCd5JywnMCcpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywnMTYnKTsNCiAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywnMTYnKTsNCiAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ2ZpbGwtb3BhY2l0eScsJzAuNicpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJyxsaW5rc1tpXS5xdWVyeVNlbGVjdG9yKCd1c2UnKS5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpKTsNCiAgICBob3Zlci5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICBsaW5rc1tpXS5hcHBlbmRDaGlsZChob3Zlcik7DQogICAgLy8gY29uc29sZS5sb2cobGlua3NbaV0uZ2V0QXR0cmlidXRlKCdlZDpoeXBlcmxpbmsnKSk7DQogICAgdmFyIGE9SlNPTi5wYXJzZShsaW5rc1tpXS5nZXRBdHRyaWJ1dGUoJ2VkOmh5cGVybGluaycpKTsNCiAgICB2YXIgY3M9bGlua3NbaV0ucXVlcnlTZWxlY3RvcigndXNlJykuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKS5tYXRjaCgvXCgoXFMqfFxTKlxzXFMqKVwpLylbMV0uc3BsaXQoLyB8LC8pOw0KICAgIHZhciBwcz1saW5rc1tpXS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJyk7DQogICAgaWYocHMuc3Vic3RyKDAsMikgPT0gJ3RyJyl7DQogICAgICAgIHZhciBwcHMgPSBwcy5tYXRjaCgvXCgoXFMqfFxTKlxzXFMqKVwpLylbMV0uc3BsaXQoLyB8LC8pOw0KICAgICAgICB2YXIgeD1wYXJzZUZsb2F0KGNzWzBdKStwYXJzZUZsb2F0KHBwc1swXSk7DQogICAgICAgIHZhciB5PXBhcnNlRmxvYXQocHBzWzFdKTsNCiAgICAgICAgeD14LnRvc3VpdHN2ZygpOw0KICAgICAgICB5PXkudG9zdWl0c3ZnKCk7DQogICAgICAgIHZhciB0cnN0ciA9ICd0cmFuc2xhdGUoJyt4KycsJyt5KycpJzsNCiAgICB9ZWxzZSBpZihwcy5zdWJzdHIoMCwyKSA9PSAnbWEnKXsNCiAgICAgICAgdmFyIHBwcyA9IHBzLm1hdGNoKC8oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pXCkkLyk7DQogICAgICAgIHZhciBtYUFyciA9IFtwYXJzZUZsb2F0KHBwc1sxXSkscGFyc2VGbG9hdChwcHNbM10pLHBhcnNlRmxvYXQocHBzWzVdKSxwYXJzZUZsb2F0KHBwc1s3XSkscGFyc2VGbG9hdChwcHNbOV0pLHBhcnNlRmxvYXQocHBzWzExXSldOw0KICAgICAgICBpZihtYUFyclsxXSA9PSAwKXsNCiAgICAgICAgICAgIHZhciB4ID0gcGFyc2VGbG9hdChjc1swXSk7DQogICAgICAgICAgICB2YXIgeSA9IHBhcnNlRmxvYXQoY3NbMV0pKzE2Ow0KICAgICAgICAgICAgdmFyIHgxID0geCAqIG1hQXJyWzBdICsgeSAqIG1hQXJyWzJdICsgbWFBcnJbNF07DQogICAgICAgICAgICB2YXIgeTEgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgIHgxPXgxLnRvc3VpdHN2ZygpOw0KICAgICAgICAgICAgeTE9eTEudG9zdWl0c3ZnKCk7DQogICAgICAgICAgICB2YXIgdHJzdHIgPSAgJ3RyYW5zbGF0ZSgnK3gxKycsJyt5MSsnKSc7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KGNzWzBdKSsxNjsNCiAgICAgICAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChjc1sxXSkrMTY7DQogICAgICAgICAgICB2YXIgeDEgPSB4ICogbWFBcnJbMF0gKyB5ICogbWFBcnJbMl0gKyBtYUFycls0XTsNCiAgICAgICAgICAgIHZhciB5MSA9IHggKiBtYUFyclsxXSArIHkgKiBtYUFyclszXSArIG1hQXJyWzVdOw0KICAgICAgICAgICAgeCA9IHBhcnNlRmxvYXQoY3NbMF0pKzE2Ow0KICAgICAgICAgICAgeSA9IHBhcnNlRmxvYXQoY3NbMV0pOw0KICAgICAgICAgICAgdmFyIHgyID0geCAqIG1hQXJyWzBdICsgeSAqIG1hQXJyWzJdICsgbWFBcnJbNF07DQogICAgICAgICAgICB2YXIgeTIgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgIHZhciBmeCA9IHgxPHgyP3gxLnRvc3VpdHN2ZygpOiB4Mi50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHZhciBmeSA9IHkxPnkyP3kxLnRvc3VpdHN2ZygpOiB5Mi50b3N1aXRzdmcoKTsNCgkJCXZhciBvZmZ5ID0gTWF0aC5hYnMoeTEteTIpOwkJCQkJCQkJCQkgIA0KICAgICAgICAgICAgdmFyIHRyc3RyID0gICd0cmFuc2xhdGUoJytmeCsnLCcrZnkrJyknOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JyxvZmZ5LnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCcxNicpOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgneScsKC1vZmZ5KS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHBvcHVwUi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCd0cmFuc3BhcmVudCcpOw0KICAgICAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQocG9wdXBSKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICB2YXIgYWw9YS5sZW5ndGg7DQogICAgZm9yKHZhciBqPTA7ajxhbDtqKyspew0KICAgICAgICBsaW5rYXJyLnB1c2goYVtqXS5saW5rKTsNCiAgICAgICAgZGVzY2Fyci5wdXNoKGFbal0uZGVzYyk7DQogICAgfQ0KICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJyx0cnN0cik7DQogICAgdmFyIG1heD1nZXRtYXhsZW4obGlua2FycixkZXNjYXJyKTsNCiAgICBmb3IodmFyIGs9MDtrPGFsO2srKyl7DQogICAgICAgIHZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdhJyk7DQogICAgICAgIHZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgICAgIHZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIHZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIGlmKGlzTmFOKGxpbmthcnJba10pKXsNCiAgICAgICAgICAgIGMuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgInhsaW5rIiwgImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiKTsNCiAgICAgICAgICAgIGMuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLCAiaHJlZiIsIGxpbmthcnJba10pOw0KICAgICAgICAgICAgYy5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsJ19ibGFuaycpOw0KICAgICAgICAgICAgZS50ZXh0Q29udGVudD1saW5rYXJyW2tdOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGUudGV4dENvbnRlbnQ9J1BhZ2UtJytsaW5rYXJyW2tdOw0KICAgICAgICAgICAgYy5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAieGxpbmsiLCAiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIpOw0KICAgICAgICAgICAgYy5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsICJocmVmIiwgIiMiK2xpbmthcnJba10pOw0KICAgICAgICB9DQogICAgICAgIGQuc2V0QXR0cmlidXRlKCd3aWR0aCcsbWF4KzEwKTsNCiAgICAgICAgZC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsJzMzJyk7DQogICAgICAgIGQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCcjOTk5OTk5Jyk7DQogICAgICAgIGQuc2V0QXR0cmlidXRlKCdmaWxsJywnd2hpdGUnKTsNCiAgICAgICAgZC5zZXRBdHRyaWJ1dGUoJ3knLDMzKmspOw0KICAgICAgICBmLnRleHRDb250ZW50PWRlc2NhcnJba107DQogICAgICAgIGYuc3R5bGUuZm9udFNpemU9JzEycHgnOw0KICAgICAgICBmLnN0eWxlLmZvbnRXZWlnaHQ9J2JvbGQnOw0KICAgICAgICBmLnNldEF0dHJpYnV0ZSgneCcsNSk7DQogICAgICAgIGYuc2V0QXR0cmlidXRlKCd5JywzMyprKzEyKTsNCiAgICAgICAgZS5zdHlsZS5mb250U2l6ZT0nMTJweCc7DQogICAgICAgIGUuc2V0QXR0cmlidXRlKCd5JywzMyprKzI4KTsNCiAgICAgICAgZS5zZXRBdHRyaWJ1dGUoJ3gnLDUpOw0KICAgICAgICBjLmFwcGVuZENoaWxkKGQpOw0KICAgICAgICBjLmFwcGVuZENoaWxkKGYpOw0KICAgICAgICBjLmFwcGVuZENoaWxkKGUpOw0KICAgICAgICBjLm9ubW91c2VvdmVyPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcigncmVjdCcpLnN0eWxlLmZpbGw9JyNlMWUxZmYnDQogICAgICAgIH07DQogICAgICAgIGMub25tb3VzZW91dD1mdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3JlY3QnKS5zdHlsZS5maWxsPSd3aGl0ZScNCiAgICAgICAgfTsNCiAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQoYyk7DQogICAgfQ0KICAgIHBvcHVwLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnaHlwZXJsaW5rJywnJyk7DQogICAgcG9wdXAuc2V0QXR0cmlidXRlKCdlZDpsaW5raWQnLGxpbmtzW2ldLnBhcmVudE5vZGUuaWQpOw0KICAgIHBvcHVwLm9ubW91c2VvdmVyPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5PSdibG9jayc7DQogICAgfTsNCiAgICBwb3B1cC5vbmNsaWNrPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICB9Ow0KICAgIHBvcHVwLm9ubW91c2VvdXQ9ZnVuY3Rpb24gKCkgew0KICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgIH07DQogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Zy1jb250YWluZXIgPiBzdmcnKS5hcHBlbmRDaGlsZChwb3B1cCk7DQogICAgbGlua3NbaV0ub25tb3VzZW92ZXI9ZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgbGlua2lkPXRoaXMucGFyZW50Tm9kZS5pZDsNCiAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdyZWN0Jykuc3R5bGUuZGlzcGxheT0nYmxvY2snOw0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6bGlua2lkPSciK2xpbmtpZCsiJ11baHlwZXJsaW5rXSIpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsNCiAgICB9DQogICAgbGlua3NbaV0ub25tb3VzZW91dD1mdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBsaW5raWQ9dGhpcy5wYXJlbnROb2RlLmlkOw0KICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3JlY3QnKS5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOmxpbmtpZD0nIitsaW5raWQrIiddW2h5cGVybGlua10iKS5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICB9DQp9DQovLy0taHlwZXJsaW5rDQovL2luaXRpYWxpemUtLQ0KdmFyIHNoYXBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2dbZWRcXDp0b2d0b3BpY2lkXScpOw0KdmFyIG1JZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdnW2VkXFw6dG9waWN0eXBlXScpOw0KdmFyIGRhdGFUcmVlPXt9Ow0KdmFyIGV4dHJhUmVsYT17fTsNCnZhciBjaGVja0lEPScnOw0KZm9yKHZhciBpPTA7aTxtSWQubGVuZ3RoO2krKyl7DQogICAgdmFyIHR5cGU9bUlkW2ldLmdldEF0dHJpYnV0ZSgnZWQ6dG9waWN0eXBlJyk7DQogICAgdmFyIHNpZD1tSWRbaV0uaWQ7DQogICAgaWYodHlwZSE9PSdjYWxsb3V0Jyl7DQogICAgICAgIGluaXQoc2lkLGRhdGFUcmVlKQ0KICAgIH0NCn0NCmZ1bmN0aW9uIGluaXQoaWQsIG9iaikgew0KICAgIHZhciBjaGlsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJnW2VkXFw6cGFyZW50aWQ9JyIgKyBpZCArICInXTpub3QoW2VkXFw6dG9waWN0eXBlXSkiKTsNCiAgICB2YXIgY2FsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJnW2VkXFw6cGFyZW50aWQ9JyIgKyBpZCArICInXVtlZFxcOnRvcGljdHlwZV0iKTsNCiAgICB2YXIgc3VtbWFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInBhdGhbZWRcXDpwYXJlbnRpZCo9JyIgKyBpZCArICInXVtlZFxcOnR5cGU9J3N1bW1hcnknXSIpOw0KICAgIHZhciBib3VuZGFyeT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgicGF0aFtlZFxcOnBhcmVudGlkKj0nIiArIGlkICsgIiddW2VkXFw6dHlwZT0nYm91bmRhcnknXSIpOw0KICAgIHZhciByZWxhZnJvbT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJnW2VkXFw6ZnJvbWlkKj0nIiArIGlkICsgIiddW2VkXFw6dHlwZT0ncmVsYXRpb24nXSIpOw0KICAgIHZhciByZWxhdG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiZ1tlZFxcOnRvaWQqPSciICsgaWQgKyAiJ11bZWRcXDp0eXBlPSdyZWxhdGlvbiddIik7DQogICAgb2JqWyJtIiArIGlkXSA9IHt9Ow0KICAgIHZhciB0eXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmdldEF0dHJpYnV0ZSgnZWQ6dG9waWN0eXBlJyk7DQogICAgdmFyIGl3PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5nZXRBdHRyaWJ1dGUoJ2VkOndpZHRoJyk7DQogICAgdmFyIGloPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5nZXRBdHRyaWJ1dGUoJ2VkOmhlaWdodCcpOw0KICAgIGlmICh0eXBlKSB7DQogICAgICAgIG9ialsibSIgKyBpZF0udHlwZSA9IHR5cGU7DQogICAgfQ0KICAgIGlmKGl3JiZpaCl7DQogICAgICAgIG9ialsibSIgKyBpZF0ud2lkdGggPWl3Ow0KICAgICAgICBvYmpbIm0iICsgaWRdLmhlaWdodCA9aWg7DQogICAgfQ0KICAgIGlmIChyZWxhZnJvbS5sZW5ndGggIT09IDApIHsNCiAgICAgICAgb2JqWyJtIiArIGlkXS5yZWxhZnJvbSA9IHt9Ow0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbGFmcm9tLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgaW5kZXhpZCA9IHJlbGFmcm9tW2ldLmlkOw0KICAgICAgICAgICAgdmFyIHRvaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleGlkKS5nZXRBdHRyaWJ1dGUoJ2VkOnRvaWQnKTsNCiAgICAgICAgICAgIGlmIChleHRyYVJlbGFbaW5kZXhpZF0gPT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIGV4dHJhUmVsYVtpbmRleGlkXSA9IHsNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGluZGV4aWQsDQogICAgICAgICAgICAgICAgICAgIGZyb21pZDogaWQsDQogICAgICAgICAgICAgICAgICAgIHRvaWQ6IHRvaWQsDQogICAgICAgICAgICAgICAgICAgIGlzQzogZmFsc2UNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgb2JqWyJtIiArIGlkXS5yZWxhZnJvbVtpbmRleGlkXT17fTsNCiAgICAgICAgICAgIG9ialsibSIgKyBpZF0ucmVsYWZyb20uZGlzcGxheT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnPydibG9jayc6J25vbmUnOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChyZWxhdG8ubGVuZ3RoICE9PSAwKSB7DQogICAgICAgIG9ialsibSIgKyBpZF0ucmVsYXRvID0ge307DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVsYXRvLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgaW5kZXhpZD1yZWxhdG9baV0uaWQ7DQogICAgICAgICAgICB2YXIgZnJvbWlkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluZGV4aWQpLmdldEF0dHJpYnV0ZSgnZWQ6ZnJvbWlkJyk7DQogICAgICAgICAgICBpZihleHRyYVJlbGFbaW5kZXhpZF0gPT09IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgZXh0cmFSZWxhW2luZGV4aWRdPXsNCiAgICAgICAgICAgICAgICAgICAgaWQ6aW5kZXhpZCwNCiAgICAgICAgICAgICAgICAgICAgZnJvbWlkOmZyb21pZCwNCiAgICAgICAgICAgICAgICAgICAgdG9pZDppZCwNCiAgICAgICAgICAgICAgICAgICAgaXNDOmZhbHNlDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG9ialsibSIgKyBpZF0ucmVsYXRvW2luZGV4aWRdPXt9Ow0KICAgICAgICAgICAgb2JqWyJtIiArIGlkXS5yZWxhdG8uZGlzcGxheT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnPydibG9jayc6J25vbmUnOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChjaGlsZHMubGVuZ3RoICE9PSAwKSB7DQogICAgICAgIG9ialsibSIgKyBpZF0uY2hpbGQgPSB7fTsNCiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImdbZWRcXDp0b2d0b3BpY2lkPSciICsgaWQgKyAiJ10iKSkgew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOnRvZ3RvcGljaWQ9JyIgKyBpZCArICInXSIpLmNoaWxkTm9kZXNbMF0uZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykpOw0KICAgICAgICAgICAgdmFyIHRvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImdbZWRcXDp0b2d0b3BpY2lkPSciICsgaWQgKyAiJ10iKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndXNlJylbMF0uZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykuc2xpY2UoMSk7DQogICAgICAgICAgICBvYmpbIm0iICsgaWRdLnRvZ3R5cGUgPSB0b2c7DQogICAgICAgIH0NCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciBjaWQgPSBjaGlsZHNbaV0uaWQ7DQogICAgICAgICAgICBpbml0KGNpZCwgb2JqWyJtIiArIGlkXS5jaGlsZCk7DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKGNhbGxzLmxlbmd0aCAhPT0gMCkgew0KICAgICAgICBvYmpbIm0iICsgaWRdLmNhbGwgPSB7fTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxscy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdmFyIGNpZCA9IGNhbGxzW2ldLmlkOw0KICAgICAgICAgICAgaW5pdChjaWQsIG9ialsibSIgKyBpZF0uY2FsbCk7DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKGJvdW5kYXJ5Lmxlbmd0aCAhPT0gMCkgew0KICAgICAgICBvYmpbIm0iICsgaWRdLmJvdW5kYXJ5ID0ge307DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRhcnkubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciBjaWQgPWJvdW5kYXJ5W2ldLmlkOw0KICAgICAgICAgICAgaW5pdChjaWQsIG9ialsibSIgKyBpZF0uYm91bmRhcnkpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChzdW1tYXJ5Lmxlbmd0aCAhPT0gMCkgew0KICAgICAgICBvYmpbIm0iICsgaWRdLnN1bW1hcnkgPSB7fTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdW1tYXJ5Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgY2lkID0gc3VtbWFyeVtpXS5pZDsNCiAgICAgICAgICAgIGluaXQoY2lkLCBvYmpbIm0iICsgaWRdLnN1bW1hcnkpOw0KICAgICAgICB9DQogICAgfQ0KfQ0KLy8tLWluaXRpYWxpemUNCi8vdG9nZ2xlZGlzcGxheS0tDQp2YXIgY2hhaW5BcnI9W107DQpmdW5jdGlvbiBnZXRjaGFpbihpZCl7DQogICAgY2hhaW5BcnIudW5zaGlmdCgnbScraWQpOw0KICAgIHZhciBwYXJlbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmdldEF0dHJpYnV0ZSgnZWQ6cGFyZW50aWQnKTsNCiAgICBpZighcGFyZW50KXsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCglpZihwYXJlbnQubWF0Y2goL1wsLykpew0KICAgICAgICBwYXJlbnQgPSBwYXJlbnQubWF0Y2goL1xkKyg/PVwsKS8pWzBdDQogICAgfQ0KICAgIGdldGNoYWluKHBhcmVudCk7DQp9DQpmdW5jdGlvbiBnZXRvYmooaWQpIHsNCiAgICBjaGFpbkFycj1bXTsNCiAgICBnZXRjaGFpbihpZCk7DQogICAgdmFyIG1haW49Y2hhaW5BcnJbMF07DQogICAgaWYoY2hhaW5BcnIubGVuZ3RoPjEpew0KICAgICAgICB2YXIgb2JqPWRhdGFUcmVlW21haW5dOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhjaGFpbkFycik7DQogICAgICAgIGZvcih2YXIgaT0xO2k8Y2hhaW5BcnIubGVuZ3RoO2krKykgew0KICAgICAgICAgICAgdmFyIGEgPSBjaGFpbkFycltpXTsNCiAgICAgICAgICAgIGZvcih2YXIgaj0wO2o8T2JqZWN0LmtleXMob2JqKS5sZW5ndGg7aisrKXsNCiAgICAgICAgICAgICAgICB2YXIgY29iaj0gb2JqW09iamVjdC5rZXlzKG9iailbal1dW2FdOw0KICAgICAgICAgICAgICAgIGlmKGNvYmopew0KICAgICAgICAgICAgICAgICAgICBvYmo9Y29iajsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG9iag0KICAgIH1lbHNlew0KICAgICAgICB2YXIgb2JqPWRhdGFUcmVlW21haW5dOw0KICAgICAgICByZXR1cm4gb2JqDQogICAgfQ0KDQp9DQpmb3IodmFyIGk9MDtpPHNoYXBlLmxlbmd0aDtpKyspew0KICAgIHNoYXBlW2ldLm9uY2xpY2s9ZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgaWQ9TnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKCdlZDp0b2d0b3BpY2lkJykpOw0KICAgICAgICB2YXIgb2JqPWdldG9iaihpZCk7DQoNCiAgICAgICAgdmFyIHR5cGU9b2JqLnRvZ3R5cGU9PT0nbWludXMnPydwbHVzJzonbWludXMnOw0KICAgICAgICB2YXIgZGlzcGxheT1vYmoudG9ndHlwZT09PSdtaW51cyc/J25vbmUnOidibG9jayc7DQogICAgICAgIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3VzZScpWzBdLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsJyMnK3R5cGUpOw0KICAgICAgICBvYmoudG9ndHlwZT10eXBlOw0KICAgICAgICBjaGVja0lEPW9iajsNCg0KICAgICAgICB1dGQob2JqLGlkLGRpc3BsYXkpOw0KICAgICAgICBleHRyYVJlbGFGaW4oKTsNCiAgICB9DQp9DQpmdW5jdGlvbiB1dGQob2JqLGlkLHNob3csb2MpIHsNCg0KICAgIHZhciBwc2hvdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuZGlzcGxheSE9PSAnbm9uZSc/J2Jsb2NrJzonbm9uZSc7DQogICAgaWYgKG9iai5yZWxhZnJvbSl7DQogICAgICAgIGlmKG9iai5yZWxhZnJvbS5kaXNwbGF5IT09IHBzaG93KXsNCiAgICAgICAgICAgIHZhciByZWxhZnJvbXM9T2JqZWN0LmtleXMob2JqLnJlbGFmcm9tKTsNCiAgICAgICAgICAgIHJlbGFmcm9tcy5zcGxpY2UocmVsYWZyb21zLmluZGV4T2YoJ2Rpc3BsYXknKSwxKTsNCiAgICAgICAgICAgIGZvcih2YXIgaz0wO2s8cmVsYWZyb21zLmxlbmd0aDtrKyspew0KICAgICAgICAgICAgICAgIHZhciBkPXJlbGFmcm9tc1trXTsNCiAgICAgICAgICAgICAgICBleHRyYVJlbGFbZF0uaXNDPXRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBvYmoucmVsYWZyb20uZGlzcGxheSA9IHBzaG93Ow0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChvYmoucmVsYXRvKXsNCiAgICAgICAgaWYob2JqLnJlbGF0by5kaXNwbGF5IT09IHBzaG93KXsNCiAgICAgICAgICAgIHZhciByZWxhdG9zPU9iamVjdC5rZXlzKG9iai5yZWxhdG8pOw0KICAgICAgICAgICAgcmVsYXRvcy5zcGxpY2UocmVsYXRvcy5pbmRleE9mKCdkaXNwbGF5JyksMSk7DQogICAgICAgICAgICBmb3IodmFyIGs9MDtrPHJlbGF0b3MubGVuZ3RoO2srKyl7DQogICAgICAgICAgICAgICAgdmFyIGQ9cmVsYXRvc1trXTsNCiAgICAgICAgICAgICAgICBleHRyYVJlbGFbZF0uaXNDPXRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBvYmoucmVsYXRvLmRpc3BsYXkgPSBwc2hvdzsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZihvYmouY2FsbCl7DQogICAgICAgIHZhciBjYWxscz1PYmplY3Qua2V5cyhvYmouY2FsbCk7DQogICAgICAgIGlmKGNoZWNrSUQhPT1vYmopew0KICAgICAgICAgICAgZm9yKHZhciBpPTA7aSA8IGNhbGxzLmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIHZhciBhPWNhbGxzW2ldLnNsaWNlKDEpOw0KICAgICAgICAgICAgICAgIHZhciBiPW9iai5jYWxsW2NhbGxzW2ldXTsNCiAgICAgICAgICAgICAgICB2YXIgYz1iLnRvZ3R5cGU7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuc3R5bGUuZGlzcGxheT1zaG93Ow0KICAgICAgICAgICAgICAgIGlmIChiLnJlbGFmcm9tJiYhYyl7DQogICAgICAgICAgICAgICAgICAgIGlmKGIucmVsYWZyb20uZGlzcGxheSE9PSBzaG93KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWxhZnJvbXM9T2JqZWN0LmtleXMoYi5yZWxhZnJvbSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZWxhZnJvbXMuc3BsaWNlKHJlbGFmcm9tcy5pbmRleE9mKCdkaXNwbGF5JyksMSk7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGs9MDtrPHJlbGFmcm9tcy5sZW5ndGg7aysrKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZD1yZWxhZnJvbXNba107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFSZWxhW2RdLmlzQz10cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYi5yZWxhZnJvbS5kaXNwbGF5ID0gc2hvdzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoYi5yZWxhdG8mJiFjKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoYi5yZWxhdG8uZGlzcGxheSE9PSBzaG93KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWxhdG9zPU9iamVjdC5rZXlzKGIucmVsYXRvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0b3Muc3BsaWNlKHJlbGF0b3MuaW5kZXhPZignZGlzcGxheScpLDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrPTA7azxyZWxhdG9zLmxlbmd0aDtrKyspew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkPXJlbGF0b3Nba107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFSZWxhW2RdLmlzQz10cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYi5yZWxhdG8uZGlzcGxheSA9IHNob3c7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoYyl7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImdbZWRcXDp0b2d0b3BpY2lkPSciK2ErIiddIikuc3R5bGUuZGlzcGxheT1zaG93Ow0KICAgICAgICAgICAgICAgICAgICBpZihjPT09J21pbnVzJyl7DQogICAgICAgICAgICAgICAgICAgICAgICB1dGQoYixhLHNob3cpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKChiLmNhbGx8fGIuYm91bmRhcnl8fGIuc3VtbWFyeSkmJmM9PT0ncGx1cycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdyx0cnVlKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGIuY2FsbCYmIWMpIHsNCiAgICAgICAgICAgICAgICAgICAgdXRkKGIsYSxzaG93LHRydWUpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChiLnN1bW1hcnkmJiFjKSB7DQogICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGIuYm91bmRhcnkmJiFjKSB7DQogICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdykNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZihvYmouc3VtbWFyeSl7DQogICAgICAgIHZhciBzdW1tYXJ5cz1PYmplY3Qua2V5cyhvYmouc3VtbWFyeSk7DQogICAgICAgIGlmKChjaGVja0lEIT09b2JqJiYob2JqLnRvZ3R5cGU9PT0nbWludXMnfHwhb2JqLnRvZ3R5cGUpKXx8Y2hlY2tJRD09PW9iail7DQogICAgICAgICAgICBmb3IodmFyIGk9MDtpPHN1bW1hcnlzLmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIHZhciBhPXN1bW1hcnlzW2ldLnNsaWNlKDEpOw0KCQkJCXZhciBvc3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5nZXRBdHRyaWJ1dGUoJ2VkOnBhcmVudGlkJyk7DQogICAgICAgICAgICAgICAgaWYob3NwLm1hdGNoKC9cLC8pKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG9zcGEgPSBvc3Auc3BsaXQoJywnKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG9zcEw9MDsNCg0KICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGo9MDtqPG9zcGEubGVuZ3RoO2orKyl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzaG93ID09ICdub25lJyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3NwYVtqXSkuc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3NwTCsrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvc3BMKys7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKG9zcEwgIT09IG9zcGEubGVuZ3RoKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBiPW9iai5zdW1tYXJ5W3N1bW1hcnlzW2ldXTsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhKTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5zdHlsZS5kaXNwbGF5PXNob3c7DQovLyAgICAgICAgICAgICAgICBpZihjKXsNCi8vICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6dG9ndG9waWNpZD0nIithKyInXSIpLnN0eWxlLmRpc3BsYXk9c2hvdzsNCi8vICAgICAgICAgICAgICAgICAgICBpZihjPT09J21pbnVzJyl7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIHV0ZChiLHNob3cpDQovLyAgICAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgICAgIGlmIChiLmNhbGwmJmM9PT0ncGx1cycpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgdXRkKGIsc2hvdyx0cnVlKQ0KLy8gICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgIGlmKGIuY2FsbCYmIWMpIHsNCi8vICAgICAgICAgICAgICAgICAgICB1dGQoYixzaG93LHRydWUpDQovLyAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoT2JqZWN0LmtleXMoYikubGVuZ3RoIT09MCl7DQogICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgaWYob2JqLmJvdW5kYXJ5KXsNCiAgICAgICAgdmFyIGJvdW5kYXJ5cz1PYmplY3Qua2V5cyhvYmouYm91bmRhcnkpOw0KICAgICAgICBpZihjaGVja0lEIT09b2JqKXsNCiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8Ym91bmRhcnlzLmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIHZhciBhPWJvdW5kYXJ5c1tpXS5zbGljZSgxKTsNCiAgICAgICAgICAgICAgICB2YXIgYj1vYmouYm91bmRhcnlbYm91bmRhcnlzW2ldXTsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhKTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5zdHlsZS5kaXNwbGF5PXNob3c7DQovLyAgICAgICAgICAgICAgICBpZihjKXsNCi8vICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6dG9ndG9waWNpZD0nIithKyInXSIpLnN0eWxlLmRpc3BsYXk9c2hvdzsNCi8vICAgICAgICAgICAgICAgICAgICBpZihjPT09J21pbnVzJyl7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIHV0ZChiLHNob3cpDQovLyAgICAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgICAgIGlmIChiLmNhbGwmJmM9PT0ncGx1cycpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgdXRkKGIsc2hvdyx0cnVlKQ0KLy8gICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgIGlmKGIuY2FsbCYmIWMpIHsNCi8vICAgICAgICAgICAgICAgICAgICB1dGQoYixzaG93LHRydWUpDQovLyAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoT2JqZWN0LmtleXMoYikubGVuZ3RoIT09MCl7DQogICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgaWYoIW9jJiZvYmouY2hpbGQpIHsNCiAgICAgICAgdmFyIGNoaWxkcyA9IE9iamVjdC5rZXlzKG9iai5jaGlsZCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgYSA9IGNoaWxkc1tpXS5zbGljZSgxKTsNCiAgICAgICAgICAgIHZhciBiID0gb2JqLmNoaWxkW2NoaWxkc1tpXV07DQogICAgICAgICAgICB2YXIgYyA9IGIudG9ndHlwZTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpLnN0eWxlLmRpc3BsYXkgPSBzaG93Ow0KCQkJdmFyIHRTUGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInBhdGhbZWRcXDp0b3N1cGVyaWQ9JyIrYSsiJ10iKTsNCiAgICAgICAgICAgIGlmKHRTUGF0aCl7DQogICAgICAgICAgICAgICAgdFNQYXRoLnN0eWxlLmRpc3BsYXkgPSBzaG93Ow0KICAgICAgICAgICAgfQ0KCQkJdmFyIG5vdGVUaXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6bm90ZXRvPSciK2ErIiddIik7DQogICAgICAgICAgICBpZihub3RlVGlwKXsNCiAgICAgICAgICAgICAgICBub3RlVGlwLnN0eWxlLmRpc3BsYXkgPSBzaG93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGIucmVsYWZyb20mJiFjKXsNCiAgICAgICAgICAgICAgICBpZihiLnJlbGFmcm9tLmRpc3BsYXkhPT0gc2hvdyl7DQogICAgICAgICAgICAgICAgICAgIHZhciByZWxhZnJvbXM9T2JqZWN0LmtleXMoYi5yZWxhZnJvbSk7DQogICAgICAgICAgICAgICAgICAgIHJlbGFmcm9tcy5zcGxpY2UocmVsYWZyb21zLmluZGV4T2YoJ2Rpc3BsYXknKSwxKTsNCiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrPTA7azxyZWxhZnJvbXMubGVuZ3RoO2srKyl7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZD1yZWxhZnJvbXNba107DQogICAgICAgICAgICAgICAgICAgICAgICBleHRyYVJlbGFbZF0uaXNDPXRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYi5yZWxhZnJvbS5kaXNwbGF5ID0gc2hvdzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoYi5yZWxhdG8mJiFjKXsNCiAgICAgICAgICAgICAgICBpZihiLnJlbGF0by5kaXNwbGF5IT09IHNob3cpew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRvcz1PYmplY3Qua2V5cyhiLnJlbGF0byk7DQogICAgICAgICAgICAgICAgICAgIHJlbGF0b3Muc3BsaWNlKHJlbGF0b3MuaW5kZXhPZignZGlzcGxheScpLDEpOw0KICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGs9MDtrPHJlbGF0b3MubGVuZ3RoO2srKyl7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZD1yZWxhdG9zW2tdOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFSZWxhW2RdLmlzQz10cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGIucmVsYXRvLmRpc3BsYXkgPSBzaG93Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChjKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOnRvZ3RvcGljaWQ9JyIgKyBhICsgIiddIikuc3R5bGUuZGlzcGxheSA9IHNob3c7DQogICAgICAgICAgICAgICAgaWYgKGMgPT09ICdtaW51cycpIHsNCiAgICAgICAgICAgICAgICAgICAgdXRkKGIsYSxzaG93KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoKGIuY2FsbHx8Yi5ib3VuZGFyeXx8Yi5zdW1tYXJ5KSYmYz09PSdwbHVzJykgew0KICAgICAgICAgICAgICAgICAgICB1dGQoYixhLHNob3csdHJ1ZSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoYi5jYWxsJiYhYykgew0KICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdyx0cnVlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGIuc3VtbWFyeSYmIWMpIHsNCiAgICAgICAgICAgICAgICB1dGQoYixhLHNob3cpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoYi5ib3VuZGFyeSYmIWMpIHsNCiAgICAgICAgICAgICAgICB1dGQoYixhLHNob3cpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGV4dHJhUmVsYUZpbigpIHsNCiAgICB2YXIgZXh0cmFrZXlzPU9iamVjdC5rZXlzKGV4dHJhUmVsYSk7DQogICAgZm9yKHZhciBpPTA7aTxleHRyYWtleXMubGVuZ3RoO2krKyl7DQogICAgICAgIHZhciBleHRyYU9iaj1leHRyYVJlbGFbZXh0cmFrZXlzW2ldXTsNCiAgICAgICAgaWYoZXh0cmFPYmouaXNDID09PSB0cnVlKXsNCiAgICAgICAgICAgIHZhciBmc2hvdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChleHRyYU9iai5mcm9taWQpLnN0eWxlLmRpc3BsYXkgIT09J25vbmUnPyB0cnVlOiBmYWxzZTsNCiAgICAgICAgICAgIHZhciB0c2hvdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChleHRyYU9iai50b2lkKS5zdHlsZS5kaXNwbGF5ICE9PSdub25lJz8gdHJ1ZTogZmFsc2U7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChleHRyYU9iai5pZCkuc3R5bGUuZGlzcGxheT1mc2hvdyAmJiB0c2hvdz8gJ2Jsb2NrJzogJ25vbmUnOw0KICAgICAgICAgICAgZXh0cmFSZWxhW2V4dHJha2V5c1tpXV0uaXNDID0gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQp9'))</script>
  </body>
</html>
